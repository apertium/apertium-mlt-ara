<?xml version="1.0" encoding="UTF-8"?>
<transfer default="chunk">
  <section-def-cats>
    <def-cat n="artic">
      <cat-item tags="det.def.*"/>
      <cat-item tags="det.def"/>
    </def-cat>
    <def-cat n="det">
      <cat-item tags="det.*"/>
      <cat-item tags="det"/>
    </def-cat>
    <def-cat n="detind">
      <cat-item tags="det.ind.*"/>
      <cat-item tags="det.ind"/>
    </def-cat>
    <def-cat n="nom">
      <cat-item tags="n.*"/>
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="numeral">
      <cat-item tags="num.*"/>
    </def-cat>
    <def-cat n="digitnum">
      <cat-item tags="num"/>
    </def-cat>
    <def-cat n="numord">
      <cat-item tags="num.ord.*"/>
    </def-cat>
    <def-cat n="adj">
      <cat-item tags="adj.*"/>
    </def-cat>
    <def-cat n="adjcomp">
      <cat-item tags="adj.comp"/>
    </def-cat>
    <def-cat n="prep">
      <cat-item tags="pr"/>
<!-- NO! this way pr + pron. suff. are matched
      <cat-item tags="pr.*"/>  -->
    </def-cat>
    <def-cat n="pron">
      <cat-item tags="prn.*"/>
      <cat-item tags="prn.det.*"/>
    </def-cat>
    <def-cat n="freepron">
      <cat-item tags="prn.*" lemma="free"/>
    </def-cat>
    <def-cat n="p3freepron">  <!-- nominal sentences -->
      <cat-item tags="prn.p3.*" lemma="free"/>
    </def-cat>
    <def-cat n="non-np">
      <cat-item tags="n.*"/>
    </def-cat>
    <def-cat n="np">
      <cat-item tags="np"/>
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="qed">
      <cat-item lemma="qed" tags="adv"/>
    </def-cat>
    <def-cat n="se">
      <cat-item lemma="se" tags="adv"/>
      <cat-item lemma="ser" tags="adv"/>
    </def-cat>
    <def-cat n="vaux">
      <cat-item tags="vaux.past.*"/>
      <cat-item tags="vaux.pres.*"/>
      <cat-item tags="vaux.imp.*"/>
      <cat-item tags="vaux.*.past.*"/>
      <cat-item tags="vaux.*.pres.*"/>
      <cat-item tags="vaux.*.imp.*"/>
    </def-cat>
    <def-cat n="vrb">
      <cat-item tags="vblex.*.past.*"/>
      <cat-item tags="vblex.*.pres.*"/>
      <cat-item tags="vblex.*.imp.*"/>
    </def-cat>
    <def-cat n="modalvrb">
      <cat-item tags="vblex.*" lemma="ħabb"/>
      <cat-item tags="vblex.*" lemma="seta"/>
      <cat-item tags="vblex.*" lemma="ried"/>
      <cat-item tags="vblex.*" lemma="ipprova"/>
    </def-cat>
    <def-cat n="vrbpast"> 
      <cat-item tags="vblex.tv.past.*"/>
      <cat-item tags="vblex.iv.past.*"/>
      <cat-item tags="vblex.TD.past.*"/>
      <cat-item tags="vaux.iv.past.*"/>
    </def-cat>
    <def-cat n="modalpast">
      <cat-item tags="vblex.tv.past.*" lemma="ħabb"/>
      <cat-item tags="vblex.tv.past.*" lemma="seta"/>
      <cat-item tags="vblex.tv.past.*" lemma="ried"/>
      <cat-item tags="vblex.tv.past.*" lemma="ipprova"/>
    </def-cat>
    <def-cat n="modalpres">
      <cat-item tags="vblex.tv.pres.*" lemma="ħabb"/>
      <cat-item tags="vblex.tv.pres.*" lemma="seta"/>
      <cat-item tags="vblex.tv.pres.*" lemma="ried"/>
      <cat-item tags="vblex.tv.pres.*" lemma="ipprova"/>
    </def-cat>
    <def-cat n="gie">
      <cat-item tags="vblex.tv.*" lemma="ġie"/>
    </def-cat>
    <def-cat n="vrbpres">
      <cat-item tags="vblex.tv.pres.*"/>
      <cat-item tags="vblex.iv.pres.*"/>
      <cat-item tags="vblex.TD.pres.*"/>
<!--      <cat-item tags="vaux.iv.pres.*"/> -->
    </def-cat>
    <def-cat n="xneg"> 
      <cat-item tags="neg"/>
    </def-cat>

    <def-cat n="kien">
      <cat-item tags="vaux.*" lemma="kien"/>
    </def-cat>
    <def-cat n="kienpres">
      <cat-item tags="vaux.iv.pres.*" lemma="kien"/>
    </def-cat>
    <def-cat n="kienpast">
      <cat-item tags="vaux.iv.past.*" lemma="kien"/>
    </def-cat>
    <def-cat n="kellu">
      <cat-item tags="vaux.*" lemma="kellu"/>
    </def-cat>
    <def-cat n="kellupres">
      <cat-item tags="vaux.iv.pres.*" lemma="kellu"/>
    </def-cat>
    <def-cat n="kellupast">
      <cat-item tags="vaux.iv.past.*" lemma="kellu"/>
    </def-cat>

    <def-cat n="għad">
      <cat-item tags="vaux.*" lemma="għad"/>
    </def-cat>
    <def-cat n="qagħad">
      <cat-item tags="vaux.iv.pprs.*" lemma="qagħad"/>
<!--      <cat-item tags="vaux.iv.pres.*" lemma="qagħad"/>  -->
    </def-cat>
    <def-cat n="neg">
      <cat-item tags="neg"/>
    </def-cat>
    <def-cat n="dualis_num">   
      <cat-item tags="num.mf.sp" lemma="żewġ"/>
    </def-cat>
    <def-cat n="two_num">   
      <cat-item tags="num" lemma="2"/>  
    </def-cat>
    <def-cat n="u_prn"> 
      <cat-item tags="prn.*" lemma="u"/>
    </def-cat>
    <def-cat n="lu_prn"> 
      <cat-item tags="prn.*" lemma="lu"/>
    </def-cat>
    <def-cat n="d_obj">
      <cat-item tags="pr" lemma="lil"/>
    </def-cat>
    <def-cat n="ma_neg"> 
      <cat-item tags="adv" lemma="ma"/>
    </def-cat>
    <def-cat n="ta_pr"> 
      <cat-item tags="pr" lemma="ta'"/>
    </def-cat> 
    <def-cat n="minn_pr"> 
      <cat-item tags="pr" lemma="minn"/>
    </def-cat>
    <def-cat n="fi_pr"> 
      <cat-item tags="pr" lemma="fi"/>
    </def-cat> 
    <def-cat n="fost_pr"> 
      <cat-item tags="pr" lemma="fost"/>
    </def-cat>
    <def-cat n="biex"> 
      <cat-item tags="cnjsub" lemma="biex"/>
      <cat-item tags="cnjsub" lemma="sabiex"/>
    </def-cat>
    <def-cat n="past_subj_cnjsub"> 
      <cat-item tags="cnjsub" lemma="wara li"/>
    </def-cat>
    <def-cat n="prepgen">
      <cat-item tags="pr" lemma="quddiem"/>
    </def-cat>
    <def-cat n="pron_ind"> 
      <cat-item tags="prn.ind.*"/>
    </def-cat>
    <def-cat n="nom_attr"> 
      <cat-item tags="adj.*"/>
<!--      <cat-item tags="vblex.tv.pprs.*"/>
      <cat-item tags="vblex.iv.pprs.*"/>
      <cat-item tags="vblex.TD.pprs.*"/> -->
    </def-cat>
    <def-cat n="particip"> 
      <cat-item tags="vblex.tv.pprs.*"/>
      <cat-item tags="vblex.iv.pprs.*"/>
      <cat-item tags="vblex.TD.pprs.*"/>
      <cat-item tags="vblex.tv.pp.*"/>
      <cat-item tags="vblex.iv.pp.*"/>
      <cat-item tags="vblex.TD.pp.*"/>
    </def-cat>
    <def-cat n="pp"> 
      <cat-item tags="vblex.tv.pp.*"/>
      <cat-item tags="vblex.iv.pp.*"/>
      <cat-item tags="vblex.TD.pp.*"/>
    </def-cat>
    <def-cat n="cnjcoo"> 
      <cat-item tags="cnjcoo"/>
    </def-cat>
    <def-cat n="cnjsub"> 
      <cat-item tags="cnjsub"/>
    </def-cat>
    <def-cat n="adv">
      <cat-item tags="adv"/>
    </def-cat>
    <def-cat n="detdem">
      <cat-item tags="det.dem.*"/>
    </def-cat>
    <def-cat n="rel">
      <cat-item tags="rel.*" lemma="li"/>
    </def-cat>
    <def-cat n="detqnt">
      <cat-item tags="det.qnt"/>
      <cat-item tags="det.qnt.*" lemma="ħafna"/>
      <cat-item tags="det.qnt.*" lemma="bosta"/>
    </def-cat>
    <def-cat n="detqnt_comp">
      <cat-item tags="det.qnt.*" lemma="aktar"/>
      <cat-item tags="det.qnt.*" lemma="izjed"/>
      <cat-item tags="det.qnt.*" lemma="anqas"/>
    </def-cat>
    <def-cat n="mod_adv">
      <cat-item tags="adv" lemma="relattivament"/>
    </def-cat>
    <def-cat n="cm">
      <cat-item tags="cm"/>
    </def-cat>
    <def-cat n="xi">
      <cat-item tags="det.ind.*" lemma="xi"/>
    </def-cat>
    <def-cat n="nompl">
      <cat-item tags="n.*.pl"/>
      <cat-item tags="n.*.pl.*"/>
    </def-cat>
    <def-cat n="nomsg">
      <cat-item tags="n.*.sg"/>
      <cat-item tags="n.*.sg.*"/>
    </def-cat>
    <def-cat n="postdet">
      <cat-item tags="det.ind.*" lemma="ieħor"/>
    </def-cat>


    <!-- numerals -->

    <def-cat n="units">   <!-- or rather 3-to-10; ok, I hope noone will write "ten and twenty + noun" - or the noun will get wrong number and case -->
      <cat-item tags="num.mf.sp" lemma="tli"/>
      <cat-item tags="num.mf.sp" lemma="erb"/>
      <cat-item tags="num.mf.sp" lemma="ħam"/>
      <cat-item tags="num.mf.sp" lemma="sitt"/>
      <cat-item tags="num.mf.sp" lemma="seb"/>
      <cat-item tags="num.mf.sp" lemma="tmi"/>
      <cat-item tags="num.mf.sp" lemma="dis"/>
      <cat-item tags="num.mf.sp" lemma="għax"/>
    </def-cat>

    <def-cat n="teens">
      <cat-item tags="num.mf.sp" lemma="ħdax"/>
      <cat-item tags="num.mf.sp" lemma="tnax"/>
      <cat-item tags="num.mf.sp" lemma="tlettax"/>
      <cat-item tags="num.mf.sp" lemma="erbatax"/>
      <cat-item tags="num.mf.sp" lemma="ħmistax"/>
      <cat-item tags="num.mf.sp" lemma="sittax"/>
      <cat-item tags="num.mf.sp" lemma="sbatax"/>
      <cat-item tags="num.mf.sp" lemma="tmintax"/>
      <cat-item tags="num.mf.sp" lemma="dsatax"/>
    </def-cat>

    <def-cat n="tens">  <!-- 20, 30, ..., 90 -->
      <cat-item tags="num.mf.sp" lemma="għoxrin"/>
      <cat-item tags="num.mf.sp" lemma="tletin"/>
      <cat-item tags="num.mf.sp" lemma="erbgħin"/>
      <cat-item tags="num.mf.sp" lemma="ħamsin"/>
      <cat-item tags="num.mf.sp" lemma="sittin"/>
      <cat-item tags="num.mf.sp" lemma="sebgħin"/>
      <cat-item tags="num.mf.sp" lemma="tmenin"/>
      <cat-item tags="num.mf.sp" lemma="disgħin"/>
    </def-cat>

    <def-cat n="hundreds">  
      <cat-item tags="num.mf.*" lemma="mija"/>  <!-- really, no construct state form?? -->
      <cat-item tags="num.mf.*" lemma="elf"/>
      <cat-item tags="num.mf.*" lemma="miljun"/>
      <cat-item tags="num.mf.*" lemma="biljun"/>
      <cat-item tags="num.mf.*" lemma="triljun"/>
    </def-cat>

  </section-def-cats>


  <section-def-attrs>
    <def-attr n="gen">
       <attr-item tags="m"/>
       <attr-item tags="f"/>
       <attr-item tags="mf"/>
       <attr-item tags="mp"/>
       <attr-item tags="mnp"/>
       <attr-item tags="fp"/>
       <attr-item tags="fnp"/>
       <attr-item tags="mfp"/>
       <attr-item tags="GD"/>
    </def-attr>
    <def-attr n="nbr">
       <attr-item tags="sg"/>
       <attr-item tags="pl"/>
       <attr-item tags="sp"/>
       <attr-item tags="col"/>
       <attr-item tags="du"/>
       <attr-item tags="ND"/>
    </def-attr>
    <def-attr n="a_adj">
       <attr-item tags="adj"/>
    </def-attr>
    <def-attr n="a_nom">
       <attr-item tags="n"/>
       <attr-item tags="np"/>
       <attr-item tags="np.al"/>
       <attr-item tags="np.top"/>
       <attr-item tags="np.cog"/>
       <attr-item tags="np.ant"/>
       <attr-item tags="np.org"/>
     </def-attr>
    <def-attr n="a_trans">
       <attr-item tags="tv"/>
       <attr-item tags="iv"/>
       <attr-item tags="TD"/>
    </def-attr>
    <def-attr n="a_voice">
       <attr-item tags="actv"/>
       <attr-item tags="pasv"/>
    </def-attr>
    <def-attr n="a_particip">
       <attr-item tags="pprs"/>
       <attr-item tags="pp"/>
    </def-attr>
     <def-attr n="temps">
        <attr-item tags="pres"/>
        <attr-item tags="fut"/>
        <attr-item tags="past"/>
<!--        <attr-item tags="pp"/> -->
        <attr-item tags="inf"/>
        <attr-item tags="ger"/>
<!--        <attr-item tags="pprs"/> -->
        <attr-item tags="imp"/>
     </def-attr>
    <def-attr n="poss">
       <attr-item tags="px1sg"/>
       <attr-item tags="px2sg"/> <!-- maltese-only -->
       <attr-item tags="px2sg_m"/> <!-- arabic-only -->
       <attr-item tags="px2sg_f"/> <!-- arabic-only -->
       <attr-item tags="px3sg"/>
       <attr-item tags="px3sg_m"/>
       <attr-item tags="px3sg_f"/>
       <attr-item tags="px1pl"/>
       <attr-item tags="px2du"/> <!-- arabic only -->
       <attr-item tags="px2pl"/> <!-- maltese only -->
       <attr-item tags="px2pl_m"/> <!-- arabic only -->
       <attr-item tags="px2pl_f"/> <!-- arabic only -->
       <attr-item tags="px3du"/>
       <attr-item tags="px3pl"/> <!-- maltese only -->
       <attr-item tags="px3pl_m"/> <!-- arabic only -->
       <attr-item tags="px3pl_f"/> <!-- arabic only -->
    </def-attr>
    <def-attr n="a_anim">
       <attr-item tags="aa"/>
       <attr-item tags="nn"/>
    </def-attr>
    <def-attr n="pers">
       <attr-item tags="p1"/>
       <attr-item tags="p2"/>
       <attr-item tags="p3"/>
    </def-attr>
    <def-attr n="a_prn">
       <attr-item tags="prn"/>
       <attr-item tags="prn.ref"/>
       <attr-item tags="prn.ind"/>
       <attr-item tags="prn.dem"/>
       <attr-item tags="prn.def"/>
       <attr-item tags="prn.itg"/>
       <attr-item tags="prn.pers"/>
       <attr-item tags="prn.pos"/>
       <attr-item tags="prn.recip"/>
    </def-attr>
    <def-attr n="a_det">
       <attr-item tags="det"/>
       <attr-item tags="det.ref"/>
       <attr-item tags="det.ind"/>
       <attr-item tags="det.dem"/>
       <attr-item tags="det.def"/>
       <attr-item tags="det.itg"/>
       <attr-item tags="det.pers"/>
       <attr-item tags="det.pos"/>
       <attr-item tags="det.ord"/>
       <attr-item tags="det.qnt"/>
    </def-attr>
    <def-attr n="a_prn_ind">
       <attr-item tags="prn.ind"/>
    </def-attr>
    <def-attr n="a_det_dem">
       <attr-item tags="det.dem"/>
    </def-attr>
    <def-attr n="a_verb">
       <attr-item tags="vblex"/>
       <attr-item tags="vmod"/>
       <attr-item tags="vaux"/>
    </def-attr>
    <def-attr n="a_pr">
       <attr-item tags="pr"/>
    </def-attr>
    <def-attr n="a_pron">
       <attr-item tags="pron"/>
    </def-attr>
    <def-attr n="a_neg">
       <attr-item tags="neg"/>
    </def-attr>
    <def-attr n="case">    <!-- Arabic only: noun cases -->
       <attr-item tags="nom"/>
       <attr-item tags="gen"/>
       <attr-item tags="acc"/>
       <attr-item tags="CD"/>
    </def-attr>
    <def-attr n="comp">    <!-- comparative -->
       <attr-item tags="comp"/>
    </def-attr>
     <def-attr n="mood">   <!-- Arabic only: verb (imperfectum) moods -->
        <attr-item tags="indic"/>
        <attr-item tags="apocop"/>
        <attr-item tags="subjun"/>
     </def-attr>
    <def-attr n="a_num">
       <attr-item tags="num"/>
       <attr-item tags="num.ord"/>
    </def-attr>
    <def-attr n="a_nom_attr">
       <attr-item tags="adj"/>
       <attr-item tags="vblex.tv.pprs"/>
       <attr-item tags="vblex.iv.pprs"/>
       <attr-item tags="vblex.TD.pprs"/>
    </def-attr>
  </section-def-attrs>


  <section-def-vars>
    <def-var n="numero"/>
    <def-var n="genero"/>
    <def-var n="person"/>
  </section-def-vars>


  <section-def-lists>

    <def-list n="aa_nouns">
      <list-item v="أب"/>
      <list-item v="إبليس"/>
      <list-item v="ابن"/>
      <list-item v="أحول"/>
      <list-item v="أخ"/>
      <list-item v="أخت"/>
      <list-item v="أرمل"/>
      <list-item v="أستاذ"/>
      <list-item v="أسقف"/>
      <list-item v="إسكافي"/>
      <list-item v="اشتراكي"/>
      <list-item v="اشتراكية"/>
      <list-item v="أعرج"/>
      <list-item v="أعمى"/>
      <list-item v="ألماني"/>
      <list-item v="ألمانية"/>
      <list-item v="إله"/>
      <list-item v="أم"/>
      <list-item v="إمبراطور"/>
      <list-item v="امرأة"/>
      <list-item v="إنسان"/>
      <list-item v="أنصار"/>
      <list-item v="إيطالي"/>
      <list-item v="إيطالية"/>
      <list-item v="بحار"/>
      <list-item v="برتغالية"/>
      <list-item v="بروتستانتي"/>
      <list-item v="بروتستانتية"/>
      <list-item v="بطل"/>
      <list-item v="بنت"/>
      <list-item v="تابعة"/>
      <list-item v="تاجر"/>
      <list-item v="تركي"/>
      <list-item v="تركية"/>
      <list-item v="تشيكية"/>
      <list-item v="ثرثار"/>
      <list-item v="جار"/>
      <list-item v="جندي"/>
      <list-item v="حارس"/>
      <list-item v="حارس&lt;b/&gt;مرمى"/>
      <list-item v="حبيب"/>
      <list-item v="خاطبة"/>
      <list-item v="خبير"/>
      <list-item v="خصم"/>
      <list-item v="دكتاتور"/>
      <list-item v="راهب"/>
      <list-item v="راو"/>
      <list-item v="رجل"/>
      <list-item v="رسام"/>
      <list-item v="رسول"/>
      <list-item v="رضيع"/>
      <list-item v="رئيس"/>
      <list-item v="رئيس&lt;b/&gt;اساقفة"/>
      <list-item v="رئيس&lt;b/&gt;تحرير"/>
      <list-item v="رئيس&lt;b/&gt;ملائكة"/>
      <list-item v="زانية"/>
      <list-item v="زعيم"/>
      <list-item v="ساحر"/>
      <list-item v="ساكن"/>
      <list-item v="ساكن&lt;g&gt;&lt;b/&gt;زوريق&lt;/g&gt;"/>
      <list-item v="ساكن&lt;g&gt;&lt;b/&gt;زيتون&lt;/g&gt;"/>
      <list-item v="ساكن&lt;g&gt;&lt;b/&gt;قورم&lt;/g&gt;"/>
      <list-item v="ساكنة&lt;g&gt;&lt;b/&gt;زوريق&lt;/g&gt;"/>
      <list-item v="سائح"/>
      <list-item v="سائق"/>
      <list-item v="سجين"/>
      <list-item v="سفير"/>
      <list-item v="سكرتير"/>
      <list-item v="سلطان"/>
      <list-item v="سلف"/>
      <list-item v="سيد"/>
      <list-item v="شاب"/>
      <list-item v="شابة"/>
      <list-item v="شاعر"/>
      <list-item v="شاعرة"/>
      <list-item v="شخص"/>
      <list-item v="شريك"/>
      <list-item v="شريكة"/>
      <list-item v="شيطان"/>
      <list-item v="صاحب"/>
      <list-item v="صحافي"/>
      <list-item v="صحافية"/>
      <list-item v="صديق"/>
      <list-item v="صقلي"/>
      <list-item v="صياد&lt;b/&gt;طيور"/>
      <list-item v="صياد&lt;g/&gt;سمك"/>
      <list-item v="طالب"/>
      <list-item v="طبيب"/>
      <list-item v="طفل"/>
      <list-item v="عابس"/>
      <list-item v="عارض"/>
      <list-item v="عارضة"/>
      <list-item v="عاشق"/>
      <list-item v="عالم"/>
      <list-item v="عامل"/>
      <list-item v="عبد"/>
      <list-item v="عربي"/>
      <list-item v="عروس"/>
      <list-item v="عريس"/>
      <list-item v="عفريت"/>
      <list-item v="عمدة"/>
      <list-item v="فاعل&lt;b/&gt;خير"/>
      <list-item v="فائز"/>
      <list-item v="فائزة"/>
      <list-item v="فتاة"/>
      <list-item v="فظ"/>
      <list-item v="فقير"/>
      <list-item v="فنان"/>
      <list-item v="فنانة"/>
      <list-item v="فيلسوف"/>
      <list-item v="فينيقي"/>
      <list-item v="قبطان"/>
      <list-item v="قبطانة"/>
      <list-item v="قريب"/>
      <list-item v="قس"/>
      <list-item v="كاتب"/>
      <list-item v="كاردينال"/>
      <list-item v="كاهن"/>
      <list-item v="لاعب"/>
      <list-item v="مبتدئ"/>
      <list-item v="متحدث"/>
      <list-item v="مترجم"/>
      <list-item v="متعاون"/>
      <list-item v="متمرض"/>
      <list-item v="محافظ"/>
      <list-item v="محام"/>
      <list-item v="محتج"/>
      <list-item v="محتجة"/>
      <list-item v="محكم&lt;b/&gt;تفتيش"/>
      <list-item v="مدافع"/>
      <list-item v="مدع"/>
      <list-item v="مدير"/>
      <list-item v="مذيع"/>
      <list-item v="مذيعة"/>
      <list-item v="مراقب"/>
      <list-item v="مرب"/>
      <list-item v="مرشح"/>
      <list-item v="مزارع"/>
      <list-item v="مساعد"/>
      <list-item v="مستثمر"/>
      <list-item v="مستهلك"/>
      <list-item v="مشارك"/>
      <list-item v="مشاهد"/>
      <list-item v="مشاهدة"/>
      <list-item v="مطور"/>
      <list-item v="مفتش"/>
      <list-item v="مفوض"/>
      <list-item v="مقاول"/>
      <list-item v="مقيم"/>
      <list-item v="مقيمة"/>
      <list-item v="ملأك"/>
      <list-item v="ملحن"/>
      <list-item v="ملك"/>
      <list-item v="ملكة"/>
      <list-item v="ممثل"/>
      <list-item v="ممثلة"/>
      <list-item v="منافس"/>
      <list-item v="منافس&lt;b/&gt;نصف&lt;b/&gt;نهائي"/>
      <list-item v="منافسة"/>
      <list-item v="مندوب"/>
      <list-item v="منشط"/>
      <list-item v="منشق"/>
      <list-item v="منشقة"/>
      <list-item v="منظم"/>
      <list-item v="مهاجر"/>
      <list-item v="مهاجرة"/>
      <list-item v="مهرج"/>
      <list-item v="مواطن"/>
      <list-item v="مؤسس"/>
      <list-item v="موظف"/>
      <list-item v="مؤلف"/>
      <list-item v="مولى"/>
      <list-item v="ناخب"/>
      <list-item v="ناشط"/>
      <list-item v="ناشطة"/>
      <list-item v="نائب"/>
      <list-item v="نحات"/>
      <list-item v="همجي"/>
      <list-item v="وزير"/>
      <list-item v="وسيط"/>
      <list-item v="وطني"/>
      <list-item v="وطنية"/>
      <list-item v="وغد"/>
      <list-item v="ولد"/>
      <list-item v="يتيم"/>
      <list-item v="يوناني"/>
      <list-item v="يونانية"/>
    </def-list>


    <def-list n="minn_bi_verbs" c="mt verbs with 'minn' prepostions translated to ar verbs with 'ب' preposition">
      <list-item v="تمتع"/>
    </def-list>

    <def-list n="fi_min_verbs" c="mt verbs with 'fi' prepostions translated to ar verbs with 'من' preposition">
      <list-item v="تألف"/>
    </def-list>

    <def-list n="kontra__verbs" c="mt verbs with 'kontra' prepostions translated to ar verbs without preposition">
      <list-item v="نافس"/>
    </def-list>

  </section-def-lists>


  <section-def-macros>

    <def-macro n="set_gen_nbr_case" npar="1"> <!-- nouns, adjs etc - set gen, nbr, case if GD, ND and/or CD; default values m, sg, nom -->
      <choose>
	<when> 
	  <test>
	    <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="GD"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
       </choose> 
      <choose>
	<when> 
	  <test>
	    <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="ND"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
       </choose> 
      <choose>
	<when> 
	  <test>
	    <equal><clip pos="1" side="tl" part="case"/><lit-tag v="CD"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="case"/><lit-tag v="nom"/></let>
	</when>
       </choose>    
    </def-macro>


    <def-macro n="f_concord1" npar="1">
      
      <let><var n="genero"/><lit-tag v="m"/></let>
      <choose><!--To determine value of variables of gender and
		  number and propagate to other rules.  Variables are
		  not used again in this rule -->
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="m"/>
	    </equal>
	  </test>
	  <let><var n="genero"/><lit-tag v="m"/></let>
	</when>
	<when>
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="f"/>
	    </equal>
	  </test>
	  <let><var n="genero"/><lit-tag v="f"/></let>
	</when>
      </choose> 
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><var n="numero"/><lit-tag v="sg"/></let>
	</when>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="pl"/>
	    </equal>
	  </test>
	  <let><var n="numero"/><lit-tag v="pl"/></let>
	</when>
      </choose>
      <choose>
	<when>
	  <test> <!-- If word has GD or ND, we try to assign the
		      gender or number of the previous rule. If there is no
		      value for the gender or number variable from previous
		      rules, gender will be masculine and number singular.-->
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
	  <choose> 
	    <when>
	      <test>
		<equal>
		  <var n="genero"/>
		  <lit-tag v="f"/>
		</equal>
	      </test>
	      <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </when>
	    <otherwise>
	      <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	    </otherwise>
	  </choose>
	</when>
      </choose>
      <choose>
	<when>
	  <test> 
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
	  <choose> 
	    <when>
	      <test>
		<equal>
		  <var n="numero"/>
		  <lit-tag v="pl"/>
		</equal>
	      </test>
	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></let>                   
	    </when>
	    <otherwise>
	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	    </otherwise>
	  </choose>
	</when>
      </choose>    
    </def-macro>


    <def-macro n="myf_concord2" npar="2">

      <!-- first set number and gender, if not set -->
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
      </choose>

      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
      </choose>      

      <choose>
	<when>  <!-- singular: copy nbr and gen --> 
	  <test>
	    <equal>
	      <clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	  <let>
	     <clip pos="2" side="tl" part="gen"/>
	     <clip pos="1" side="tl" part="gen"/>
	  </let>
	</when>
	<otherwise> <!-- plural -->
	  <choose>
	    <when> <!-- aa & pl: copy gen and nbr -->
	      <test>
	  	<in caseless="yes">
		  <clip pos="1" side="tl" part="lem"/><list n="aa_nouns"/>
		</in>
	      </test>
  	      <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></let> 
	      <let>
	         <clip pos="2" side="tl" part="gen"/>
	         <clip pos="1" side="tl" part="gen"/>
	      </let>
	    </when>
	    <otherwise> <!-- nn & pl: set nbr to sg and gen to f -->
	      <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	      <let><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </otherwise>
	  </choose>
	</otherwise>
      </choose>    
    </def-macro>


    <def-macro n="verbf_concord2" npar="2"> <!-- first verb, second noun etc. -->

      <!-- first set number and gender, if not set -->
      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="2" side="tl" part="gen"/>
	      <lit-tag v="GD"/>
	    </equal>
	  </test>
          <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
      </choose>

      <choose>
	<when> 
	  <test>
	    <equal>
	      <clip pos="2" side="tl" part="nbr"/>
	      <lit-tag v="ND"/>
	    </equal>
	  </test>
          <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	</when>
      </choose>      

      <choose>
	<when>  <!-- singular: copy nbr and gen --> 
	  <test>
	    <equal>
	      <clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/>
	    </equal>
	  </test>
	  <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	  <let>
	     <clip pos="1" side="tl" part="gen"/>
	     <clip pos="2" side="tl" part="gen"/>
	  </let>
	</when>
	<otherwise> <!-- plural -->
	  <choose>
	    <when> <!-- aa & pl: copy gen, set nbr to _sg_ -->
	      <test>
	  	<in>
		  <clip pos="2" side="tl" part="lem"/><list n="aa_nouns"/>
		</in>
	      </test>
  	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let> 
	      <let>
	         <clip pos="1" side="tl" part="gen"/>
	         <clip pos="2" side="tl" part="gen"/>
	      </let>
	    </when>
	    <otherwise> <!-- nn & pl: set nbr to sg and gen to f -->
	      <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	      <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	    </otherwise>
	  </choose>
	</otherwise>
      </choose>    
    </def-macro>




    <def-macro n="set_px_gen" npar="1" c="Hebrew has px2sg_m or px2sg_f, whereas Maltese has just px2sg;
                                          similarly for px2pl, px3pl.
                                          Default to _m, but if 'genero' is f, use _f.
                                          (the 'genero' variable is set by the f_concord1 macro).">      
      <choose>
        <when>
          <test><equal><clip pos="1" side="tl" part="poss"/><lit-tag v="px2sg"/></equal></test>
          <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2sg_m"/></let>
          <choose><when>
            <test><equal><var n="genero"/><lit-tag v="f"/></equal></test>
            <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2sg_f"/></let>
          </when></choose>
        </when>
        <when>
          <test><equal><clip pos="1" side="tl" part="poss"/><lit-tag v="px2pl"/></equal></test>
          <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2pl_m"/></let>
          <choose><when>
            <test><equal><var n="genero"/><lit-tag v="f"/></equal></test>
            <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px2pl_f"/></let>
          </when></choose>
        </when>
        <when>
          <test><equal><clip pos="1" side="tl" part="poss"/><lit-tag v="px3pl"/></equal></test>
          <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px3pl_m"/></let>
          <choose><when>
            <test><equal><var n="genero"/><lit-tag v="f"/></equal></test>
            <let><clip pos="1" side="tl" part="poss"/><lit-tag v="px3pl_f"/></let>
          </when></choose>
        </when>
      </choose>
    </def-macro>



    <def-macro n="set_prn_suff_gen" npar="1" c="Arabic has m/f in p2 sg, pl and p3 pl. For now set gender to m">      
      <choose>
        <when>
          <test><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="GD"/></equal></test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
        </when>
      </choose>
    </def-macro>


    <def-macro n="modify_verb_and_genero" npar="1" c="Guess verb gender, no gender for p1">

      <choose> <!-- default gender set to m -->
        <when> 
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let><var n="genero"/><lit-tag v="f"/></let>
        </when>
        <otherwise>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
          <let><var n="genero"/><lit-tag v="m"/></let>
        </otherwise>
      </choose>
      <choose><when c="first-persons have no gender">
        <test>
          <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/></equal>
        </test>
          <let><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></let>
          <let><var n="genero"/><lit-tag v="mf"/></let>
      </when></choose>
    </def-macro> 


  </section-def-macros>



  <section-rules>


    <rule comment="rule 1: nom + adj gender and number agreement">
       <pattern>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="n_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
	     <lu>
	       <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="a_anim"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <clip pos="1" side="tl" part="case" link-to="5"/>
 	       <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
	     <b pos="1"/>
             <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_adj"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
 	       <clip pos="2" side="tl" part="lemq"/>
             </lu>
	   </chunk>
         </out>
       </action>
    </rule>


<!-- there are 2 possibilities: 'it-itfel żgħir' means either 'the small child' or 'the child is small'. This rule corresponds to the first case; but maybe it's better to have SN + SA and decide what to do in t2x --> 
    <rule comment="rule 2: artic nom + adj gender and number agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="art_n_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	     <b pos="1"/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_adj"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="nbr"/>
	         <clip pos="3" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 3: nom + adj gender and number agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="art_n_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	     <b pos="1"/>
  	     <mlu>
               <lu>
                 <clip pos="3" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="4" side="tl" part="lemh"/>
                 <clip pos="4" side="tl" part="a_adj"/>
                 <clip pos="4" side="tl" part="gen"/>
                 <clip pos="4" side="tl" part="nbr"/>
	         <clip pos="4" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="4" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 4: nom">  <!-- possessive pronouns conversion, case default to nom -->
       <pattern>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_nom"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="a_anim"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 5: determiners">  <!-- possessive pronouns conversion, add case? -->
       <pattern>
         <pattern-item n="det"/>
       </pattern>
       <action>
<!--         <call-macro n="f_concord1"><with-param pos="1"/></call-macro> -->
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_det"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 6: pronouns">  <!-- possessive pronouns conversion, add case? -->
       <pattern>
         <pattern-item n="freepron"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="freeprn">
	   <tags>
	     <tag><lit-tag v="SN"/></tag>
	     <tag><clip pos="1" side="tl" part="pers"/></tag>
	     <tag><clip pos="1" side="tl" part="gen"/></tag>
	     <tag><clip pos="1" side="tl" part="nbr"/></tag>
	   </tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_prn"/>
             <clip pos="1" side="tl" part="pers"/>
             <clip pos="1" side="tl" part="gen" link-to="3"/>
             <clip pos="1" side="tl" part="nbr" link-to="4"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>




    <rule comment="rule 7: pronouns">  <!-- possessive pronouns conversion, add case? -->
       <pattern>
         <pattern-item n="pron"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_prn"/>
             <clip pos="1" side="tl" part="pers"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="poss"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 8: adj">  <!-- case default to nom -->
       <pattern>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_adj"/>
             <clip pos="1" side="tl" part="comp"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 9: artic np"> <!-- no article with proper nouns; do not add 'artic' state? -->
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="nn"/></tag>  <!-- TODO: check np type -->
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	    </chunk>
          </out>
	</action>
    </rule>


    <rule comment="rule 10: artic nom">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	 <!-- is it possible to have both artic. and poss. suffix ?? -->
<!--         <call-macro n="set_px"><with-param pos="2"/></call-macro>  -->
         <out>
	   <chunk name="art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>



    <rule comment="rule 11: artic adj">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_adj"/>
               <clip pos="2" side="tl" part="comp"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
	       <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </mlu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 12: artic numeral">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="numeral"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_num"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <lit-tag v="nom"/>
	       <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 13: numerals">
       <pattern>
         <pattern-item n="numeral"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_num"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <lit-tag v="nom"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
         </chunk></out>
       </action>
    </rule>


<!--
    <rule comment="rule: se">
       <pattern>
         <pattern-item n="se"/>
       </pattern>
       <action>
         <out c="Delete 'se' when followed by unknown">
           <b/>
         </chunk></out>
       </action>
    </rule>
-->


<!-- add future tense here -->
    <rule comment="rule 14: se verb">
       <pattern>
         <pattern-item n="se"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <let>
           <clip pos="2" side="tl" part="temps"/><lit-tag v="fut"/>
         </let>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>

         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 140: kellu ('to have') past">
       <pattern>
         <pattern-item n="kellupast"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro> 
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="past"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><lit-tag v="GD"/></tag>
   	       <tag><lit-tag v="ND"/></tag>
 	     </tags>
             <lu>
  	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="past"/>
	       <lit-tag v="p3"/>
               <clip pos="1" side="tl" part="temps" link-to="5"/>
               <clip pos="1" side="tl" part="pers" link-to="6"/>
             </lu>
           </chunk>
	   <b/>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="gen"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="gen" link-to="3"/>
                 <clip pos="1" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 141: kellu pres">
       <pattern>
         <pattern-item n="kellupres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="gen"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="gen" link-to="3"/>
                 <clip pos="1" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 142: kellu past neg.">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="kellupast"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="past"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><lit-tag v="GD"/></tag>
   	       <tag><lit-tag v="ND"/></tag>
 	     </tags>
	     <lu>
	       <lit v="لم"/>
	       <lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
  	       <lit v="كان"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="apocop"/>
	       <lit-tag v="p3"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	   <b/>
	   <chunk name="prep_prn"> 
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="2" side="tl" part="pers"/></tag>
               <tag><clip pos="2" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="2" side="tl" part="pers"/>
                 <clip pos="2" side="tl" part="gen" link-to="3"/>
                 <clip pos="2" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 143: kellu pres neg">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="kellupres"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><lit-tag v="p3"/></tag>
 	       <tag><lit-tag v="GD"/></tag>
   	       <tag><lit-tag v="ND"/></tag>
 	     </tags>
             <lu>
  	       <lit v="ليس"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="pres"/>
	       <lit-tag v="p3"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	   <b/>
	   <chunk name="prep_prn">  
 	     <tags>
 	       <tag><lit-tag v="SP"/></tag>
               <tag><clip pos="2" side="tl" part="pers"/></tag>
               <tag><clip pos="2" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <mlu>
	       <lu>
                 <lit v="عند"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <lit-tag v="prn"/>
                 <clip pos="2" side="tl" part="pers"/>
                 <clip pos="2" side="tl" part="gen" link-to="3"/>
                 <clip pos="2" side="tl" part="nbr" link-to="4"/>
               </lu>
  	     </mlu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 15: verb">
       <pattern>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out>
  	   <chunk name="verb">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag> <!-- not sure if I need it -->
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
 	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
 	   </chunk>
         </out>
       </action>
     </rule>


    <rule comment="rule 16: participia">
       <pattern>
         <pattern-item n="particip"/>
       </pattern>
       <action>
	 <choose>
	   <when>
	     <test><and>
		<equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
		<equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
	     </and></test>  <!-- TODO: set GD -->
	     <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	   </when>
	 </choose>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="part">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_particip"/>
               <clip pos="1" side="tl" part="gen"/> 
               <clip pos="1" side="tl" part="nbr"/>
               <lit-tag v="nom"/>  <!-- <clip pos="1" side="tl" part="case"/> -->
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 17: dir object (nom + adj etc.) in accusative ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
<!--         <pattern-item n="nom_attr"/> -->
	 <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
<!--             <clip pos="3" side="tl" part="a_nom_attr"/> -->
             <clip pos="3" side="tl" part="a_verb"/>
             <clip pos="3" side="tl" part="a_trans"/>
             <clip pos="3" side="tl" part="a_voice"/>
             <clip pos="3" side="tl" part="a_particip"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 18: dir object in accusative, constructions with with adverb between verb and direct object ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="adv"/>
         <pattern-item n="nom"/>
         <pattern-item n="nom_attr"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_nom_attr"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 19: dir object in accusative ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="pron_ind"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	 </chunk><b/></out>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lem"/>
             <clip pos="2" side="tl" part="a_prn_ind"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 20: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 21: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_adj"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </mlu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 22: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="nom"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="3" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 23: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="modalvrb"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="a_mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
	   </lu>
	   <b/><lu><lit v="أن"/><lit-tag v="cnjsub"/></lu><b/>
	 </chunk><b/></out>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 24: biex (in order that) in Arabic is followed subjunctive mood ">
       <pattern>
         <pattern-item n="biex"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu><b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 25: biex (in order that) in Arabic is followed subjunctive mood; direct object in accusative ">
       <pattern>
         <pattern-item n="biex"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="pron_ind"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_prn_ind"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 26: biex (in order that) in Arabic is followed subjunctive mood; direct object in accusative ">
       <pattern>
         <pattern-item n="biex"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="pron_ind"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_prn_ind"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="4" side="tl" part="whole"/>   
	   </lu>
	 </chunk><b/></out>
         <call-macro n="modify_verb_and_genero"><with-param pos="5"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_verb"/>
             <clip pos="5" side="tl" part="a_trans"/>
             <clip pos="5" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="5" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="5" side="tl" part="nbr"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


<!-- add rules with context, like qagħad + pres -->
<!--    <rule comment="rule 27: qagħad ('to stay')"> 
       <pattern>
         <pattern-item n="qagħad"/>
       </pattern>
       <action>
       </action>
    </rule>
-->

    <rule comment="rule 28: dualis ">   <!-- 2 numeral + plural noun -> dualis -->
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="det"/>
         <pattern-item n="dualis_num"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu><b/>
	   <mlu>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
	   </lu>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <lit-tag v="du"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   </mlu>
	   </chunk></out>
       </action>
    </rule> 


    <!-- was prepgen -->
    <rule comment="rule 29: prep noun">   <!-- genitive after prepositions -->
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu><b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="poss"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 30: direct object determined">  <!-- to get rid of lil when used as Hebrew את after verbs -->
       <pattern>
         <pattern-item n="d_obj"/>
         <pattern-item n="det"/>
       </pattern>
       <action>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>
	   </lu>
	 </chunk></out>
       </action>
    </rule> 

    <rule comment="rule 31: direct object">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="d_obj"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="mood"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="poss"/>
             <clip pos="3" side="tl" part="lemq"/>
	   </lu>
	 </chunk></out>
       </action>
    </rule>


    <rule comment="rule 32: negation"> <!-- constructions like "M'hi (qed tara)" -->
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="pron"/>
       </pattern>
       <action>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	  </chunk></out>
       </action>
    </rule>


<!--
    <rule comment="rule 33: kien negation"> 
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <out>
	   <chunk name="kien">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <lit-tag v="neg"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	   </chunk>
	 </out>
       </action>
    </rule>
-->

    <rule comment="rule 34: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="xneg"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="neg"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 35: kien ('to be'): in Arabic noun/adj after كان, 'to be', is in accusative ">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="xneg"/>
         <pattern-item n="nom"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <lit-tag v="neg"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
             <clip pos="4" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_nom"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="a_anim"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <!-- add ma + vrb_past + u + neg, + lu + neg, + u + lu + neg -->
    <rule comment="rule 36: verb negation: ma + past -> لم + apocop ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpast"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <lu>
	       <lit v="لم"/><lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <lit-tag v="apocop"/>
               <clip pos="2" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	    </chunk>
	  </out>
       </action>
    </rule>


    <rule comment="rule 37: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="modalpast"/>
         <pattern-item n="xneg"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لم"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="pres"/>
             <lit-tag v="apocop"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
	     <lit v="أن"/><lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
	 </chunk><b/></out>
	 <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="4" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 38: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="modalpres"/>
         <pattern-item n="xneg"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لا"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="pres"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
	     <lit v="أن"/><lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
	 </chunk><b/></out>
	 <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="4" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 39: modal verbs ('want', 'like', 'can' etc.): in Arabic followed by أن + so-called subjunctive mood ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="modalpres"/>
         <pattern-item n="xneg"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="lu_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="5"/></call-macro>
	  <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لا"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="pres"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <lu>
	     <lit v="أن"/><lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
  	 </chunk><b/></out>
	 <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="4" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ل"/>
               <lit-tag v="pr"/>
	     </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="5" side="tl" part="a_prn"/>
               <clip pos="5" side="tl" part="pers"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
             </lu>
	   </mlu>	
	 </chunk></out>
       </action>
    </rule> 



    <!-- add ma + vrb_pres + u + neg, + lu + neg, + u + lu + neg -->
    <rule comment="rule 40: verb negation: ma + pres -> لا + pres ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
	  <out>
	    <chunk name="vrb"> 
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_voice"/></tag>
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><clip pos="2" side="tl" part="gen"/></tag>
 	      <!--  <tag><var n="genero"/></tag>  -->
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <lu>
	       <lit v="لا"/><lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <lit-tag v="pres"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
<!--             <var n="genero"/>  -->
             <clip pos="2" side="tl" part="nbr" link-to="6"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	  </chunk></out>
       </action>
    </rule>



    <rule comment="rule 41: ma + pres, dir object in accusative ">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="xneg"/>
         <pattern-item n="pron_ind"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="لا"/><lit-tag v="adv"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="mood"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_prn_ind"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 42: direct object suffix ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_trans"/><lit-tag v="tv"/></equal>
	       <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="actv"/></equal>
	     </and></test>
           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="lemh"/>
                 <clip pos="1" side="tl" part="a_verb"/>
                 <clip pos="1" side="tl" part="a_trans"/>
                 <clip pos="1" side="tl" part="a_voice"/>
                 <clip pos="1" side="tl" part="temps"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <var n="genero"/>
                 <clip pos="1" side="tl" part="nbr"/>
                 <clip pos="1" side="tl" part="lemq"/>
               </lu>
	       <lu>
                 <lit v="ه"/>
                 <clip pos="2" side="tl" part="a_prn"/>
                 <clip pos="2" side="tl" part="pers"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="nbr"/>
               </lu>
	     </mlu>
	   </chunk></out>
	 </when>
	 <otherwise>
           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
  	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     <b/>
	     <lu>
               <lit v="إيا"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	   </chunk></out>
	 </otherwise>
	 </choose>
       </action>
    </rule> 


    <rule comment="rule 43: indirect object suffix ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="lu_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
<!--             <clip pos="1" side="tl" part="mood"/>  -->
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ل"/>
               <lit-tag v="pr"/>
	     </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 44: direct and indirect object suffixes ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="lu_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="3"/></call-macro>
	 <choose>
	   <when>
	     <test><and>
	       <equal><clip pos="1" side="tl" part="a_trans"/><lit-tag v="tv"/></equal>
	       <equal><clip pos="1" side="tl" part="a_voice"/><lit-tag v="actv"/></equal>
	     </and></test>
             <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	       <mlu>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <clip pos="1" side="tl" part="a_trans"/> 
                   <clip pos="1" side="tl" part="a_voice"/>
                   <clip pos="1" side="tl" part="temps"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <var n="genero"/>
                   <clip pos="1" side="tl" part="nbr"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
	         <lu>
                   <lit v="ه"/>
                   <clip pos="2" side="tl" part="a_prn"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="gen"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
	       </mlu>
	       <b/>
	       <mlu>
	         <lu>
                   <lit v="ل"/>
                   <lit-tag v="pr"/>
	         </lu>
	         <lu>
                   <lit v="ه"/>
                   <clip pos="3" side="tl" part="a_prn"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
	       </mlu>
	     </chunk></out>
  	   </when>
  	   <otherwise>
           <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
  	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     <b/>
	     <lu>
               <lit v="إيا"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	     <b/>
	     <mlu>
	       <lu>
                 <lit v="ل"/>
                 <lit-tag v="pr"/>
	       </lu>
	       <lu>
                 <lit v="ه"/>
                 <clip pos="3" side="tl" part="a_prn"/>
                 <clip pos="3" side="tl" part="pers"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="nbr"/>
               </lu>
	     </mlu>
	   </chunk></out>
	   </otherwise>
	 </choose>
       </action>
    </rule> 



    <rule comment="rule 45: preposition + pronominal suffix">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action> 
         <call-macro n="set_prn_suff_gen"><with-param pos="2"/></call-macro>
	 <!-- suffix gender & number should be modified! -->
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <!-- temporal solution: should be ليس (verb) + prep + suff -->
    <rule comment="rule 46: neg + preposition + pronominal suffix">
       <pattern>
         <!-- <pattern-item n="ma_neg"/> -->
         <pattern-item n="prep"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action> 
	 <!-- suffix gender & number should be modified! -->
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="2" side="tl" part="a_prn"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="neg"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 47: artic np"> <!-- no article with proper nouns -->
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_nom"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
          </chunk></out>
	</action>
    </rule>


    <rule comment="rule 48: artic np"> <!-- no article with proper nouns -->
       <pattern>
	 <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="lemh"/>
             <clip pos="6" side="tl" part="a_nom"/>
             <clip pos="6" side="tl" part="gen"/>
             <clip pos="6" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="6" side="tl" part="lemq"/>
           </lu>
          </chunk></out>
	</action>
    </rule>



<!-- story2 rules -->



    <rule comment="rule 49: għal membri ta' din konfederazzjoni"> 
       <pattern>
         <pattern-item n="prep"/>	 
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="detdem"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
	   <with-param pos="5"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_det_dem"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
<!-- TODO: add this
             <lit-tag v="gen"/>
-->
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="a_anim"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	    </mlu>
          </chunk></out>
	</action>
    </rule>



<!-- in fact, there will be a rather complex set of rules for deleting الذي or setting gen, num and case -->  
    <rule comment="rule 50: deleting li">
       <pattern>
         <pattern-item n="rel"/>
       </pattern>
       <action>
       </action>
    </rule>


    <rule comment="rule 51: li -> أن"> <!-- FIX -->
       <pattern>
         <pattern-item n="rel"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
	 <!-- is it possible to have both artic. and poss. suffix ?? -->
         <call-macro n="set_px_gen"><with-param pos="3"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
  	     <lit v="أن"/>
	     <lit-tag v="cnjsub"/>
	   </lu>
	   <b/>
           <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="acc"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule>

    <rule comment="rule 52: dir object in accusativ ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 53: dir object in accusativ ">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="3"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


<!-- hey, should be det, but _not_ article -->
    <rule comment="rule 54: prep + gen "> 
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="nom"/>
	 <pattern-item n="postdet"/>  
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
<!--             <clip pos="3" side="tl" part="a_nom_attr"/> -->
            <clip pos="3" side="tl" part="a_det"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   </chunk></out>
       </action>
    </rule>


    <rule comment="rule 55: prep + gen ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 56: prep + gen ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
	 <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 57: fil-kamp tal-mużika popolari">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
	 <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="6"/>
           <with-param pos="7"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_adj"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 58: dir object in accusative">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="d_obj"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
	 </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lem"/>
             <clip pos="4" side="tl" part="a_adj"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
           </lu>
	   </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 59: mt ġie + pp = ar pass voice">
       <pattern>
         <pattern-item n="gie"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <lit-tag v="pasv"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 


    <!-- should be one rule for nouns in sg, another for pl nouns -->
    <rule comment="rule 60: prep + gen ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="adjcomp"/>
	 <pattern-item n="nom"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>  -->
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
	   </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <!-- that's only form mt verb + prep -> ar verb + prep; what if mt verb + prep -> ar verb + d.o.? -->
    <rule comment="rule 61: mt verbs with 'minn' prep.">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="minn_pr"/>
	 <pattern-item n="detind"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
	 <choose>
	   <when>
	     <test>
	       <in caseless="yes">
		 <clip pos="1" side="tl" part="lem"/><list n="minn_bi_verbs"/>
	       </in>
	     </test>
	     <let><clip pos="2" side="tl" part="lem"/><lit v="ب"/></let> 
	   </when> 
	 </choose> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 



    <!-- that's only form mt verb + prep -> ar verb + prep; what if mt verb + prep -> ar verb + d.o.? -->
    <rule comment="rule 62: mt verbs with 'fi' prep.">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="vrb"/>
         <pattern-item n="fi_pr"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="6"/>
         </call-macro>
	 <choose>
	   <when>
	     <test>
	       <in>
		 <clip pos="2" side="tl" part="lem"/><list n="fi_min_verbs"/>
	       </in>
	     </test>
	     <let><clip pos="3" side="tl" part="lem"/><lit v="من"/></let> 
	   </when> 
	 </choose> 
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="prpers"/>
	     <lit-tag v="prn"/>
	     <lit-tag v="p3"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lem"/>
             <clip pos="5" side="tl" part="a_adj"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="lem"/>
             <clip pos="6" side="tl" part="a_adj"/>
             <clip pos="6" side="tl" part="gen"/>
             <clip pos="6" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
         </chunk></out>
       </action>
    </rule> 




    <rule comment="rule 63: prep + pron and noun in gen">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="pron"/>
         <pattern-item n="artic"/>
	 <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="2"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_prn"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="4" side="tl" part="lemq"/>
	     </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 64: past or subj cnjsub - mt pres will be ar subjunctive mood">
       <pattern>
         <pattern-item n="past_subj_cnjsub"/>
         <pattern-item n="vrbpres"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="verbf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <lit-tag v="subjun"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <clip pos="4" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 65: past or subj cnjsub - mt past remains">
       <pattern>
         <pattern-item n="past_subj_cnjsub"/>
         <pattern-item n="vrbpast"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="verbf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>   
	   </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/> 
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <clip pos="4" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 66: most/least of sth">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="detqnt_comp"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="whole"/>   
	   </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="3" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 67: relative sentence">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="rel"/>
         <pattern-item n="vrb"/> <!-- p3 -->
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	 <!-- is this always ok? -->
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/> 
         </call-macro>
         <choose> <!-- default gender set to m --> 
           <when> 
             <test>
               <equal><clip pos="4" side="tl" part="pers"/><lit-tag v="p3"/></equal>
             </test>
             <call-macro n="myf_concord2">
               <with-param pos="2"/>
               <with-param pos="4"/> 
             </call-macro>
           </when>
<!--	   <otherwise>
             <call-macro n="modify_verb_and_genero"><with-param pos="4"/></call-macro>  
	   </otherwise> -->
	 </choose>
         <out>
	   <chunk name="art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
	       <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_nom"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="a_anim"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
 	       </lu>
  	     </mlu>
	   </chunk>
	   <b/>
 	   <chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <lit v="الذي"/>
             <lit-tag v="rel"/>
             <clip pos="3" side="tl" part="gen"/>  <!-- was: 4 -->
             <clip pos="3" side="tl" part="nbr"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <clip pos="4" side="tl" part="temps"/>
             <clip pos="4" side="tl" part="pers"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


<!-- in fact it's pointless to add more rules in t1x.. --> 
    <rule comment="rule 68: noun and verb agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="vrb"/>
         <pattern-item n="adv"/>
       </pattern>
       <action>
         <call-macro n="verbf_concord2">
           <with-param pos="3"/>
           <with-param pos="2"/> 
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_verb"/>
             <clip pos="3" side="tl" part="a_trans"/>
             <clip pos="3" side="tl" part="a_voice"/>
             <clip pos="3" side="tl" part="temps"/>
             <clip pos="3" side="tl" part="pers"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <clip pos="2" side="tl" part="lemq"/>
	     </lu>
           </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 69: prep + pron and noun in gen">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="detind"/>
	 <pattern-item n="nom"/>
         <pattern-item n="detind"/>
         <pattern-item n="prep"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_det"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="6" side="tl" part="a_prn"/>
               <clip pos="6" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 



    <rule comment="rule 70: prep + pron and noun in gen">
       <pattern>
	 <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
	 <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
	 <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="lemh"/>
             <clip pos="6" side="tl" part="a_nom"/>
             <clip pos="6" side="tl" part="gen"/>
             <clip pos="6" side="tl" part="a_anim"/>
             <clip pos="6" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="px3sg_m"/>     <!-- TODO: add a macro and set everything properly! -->
             <clip pos="6" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule>



    <rule comment="rule 71: Il-format tal-festival"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	   </mlu>
          </chunk></out>
	</action>
    </rule>


    <rule comment="rule 72: kien (pres?) + past">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="vrbpast"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>  <!-- right? -->
             <clip pos="2" side="tl" part="a_mood"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
	   </lu>
	</chunk></out>
       </action>
     </rule>

<!-- maybe add this (but I want 'لكي القراء يستطيعون أن يفهموا' rather than 'لكي القراء يستطيعون يفهمون', of course it should be 'لكي يستطيع القراء أن يفهموا' )
    <rule comment="rule 72': kien + pres">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="vrbpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/> 
             <clip pos="2" side="tl" part="a_mood"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
	   </lu>
	</chunk></out>
       </action>
     </rule>
-->

    <rule comment="rule 73: kien neg">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="kienpres"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">  
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag> 
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><clip pos="2" side="tl" part="gen"/></tag>
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
  	       <lit v="ليس"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="pres"/>
	       <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	 </out>
       </action>
     </rule>



<!--    <rule comment="rule 74: present of كان not used">
       <pattern>
         <pattern-item n="kienpres"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
       </action>
    </rule>
-->


    <rule comment="rule 75: verb">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
	     <lit v="prpers"/>
	     <lit-tag v="prn"/>
	     <lit-tag v="p3"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
	   </lu><b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 76: prep + pron and noun in gen">
       <pattern>
	 <pattern-item n="two_num"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <lit-tag v="du"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 77: relattivament adv">
      <pattern>
	<pattern-item n="mod_adv"/>
        <pattern-item n="adv"/>
      </pattern>
      <action>
	<out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
          <lu>
            <clip pos="2" side="tl" part="whole"/>
          </lu>  
	  <b/>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu> 
	</chunk></out>
      </action>
    </rule>


<!-- story3 rules  -->


   <rule comment="rule 78: L-istorja ta' pajjiżna turina">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="4"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="modify_verb_and_genero"><with-param pos="5"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="6"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="poss"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="a_trans"/>
               <clip pos="5" side="tl" part="a_voice"/>
               <clip pos="5" side="tl" part="temps"/>
               <clip pos="5" side="tl" part="pers"/>
<!--               <clip pos="5" side="tl" part="gen"/> -->
             <var n="genero"/> 
               <clip pos="5" side="tl" part="nbr"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="6" side="tl" part="a_prn"/>
               <clip pos="6" side="tl" part="pers"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="nbr"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


   <!-- just an idea what to do with ta'... - my favourite Middle Egyptian (that is, hieroglyphic) construction, btw; yeah, but agreement still needed -->
   <rule comment="rule 79: ta' oriġini Semitiċi">
       <pattern>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 80: għal sekli sħaħ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lem"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 81: Dawn il-ħakmiet influwenzaw">  <!-- det -->
       <pattern>
         <pattern-item n="pron"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_prn"/>
             <clip pos="1" side="tl" part="gen"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_verb"/>
             <clip pos="4" side="tl" part="a_trans"/>
             <clip pos="4" side="tl" part="a_voice"/>
             <clip pos="4" side="tl" part="temps"/>
             <clip pos="4" side="tl" part="pers"/>
             <clip pos="4" side="tl" part="gen"/>
<!--             <var n="genero"/> -->
             <clip pos="4" side="tl" part="nbr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 82: lill-poplu tagħna">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="px1pl"/>   <!-- TODO: add macro or sth to set poss. suffixes properly!!! -->
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 83: bosta oqsma">
       <pattern>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 84: s-sisien ta' lsienna"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>  <!-- *.px -->
       </pattern>
       <action>
	 <!-- is it possible to have both artic. and poss. suffix ?? -->
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="4"/></call-macro>
	 <out>
	   <chunk name="n_npx">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="poss"/>
<!--             <lit-tag v="px1pl"/>   TODO: add macro or sth to set poss. suffixes properly!!! -->
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk>
	 </out>
       </action>
    </rule>


   <rule comment="rule 85: bosta forom grammatikali"> 
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
            <clip pos="1" side="tl" part="pers"/>
<!--            <clip pos="1" side="tl" part="gen"/>  -->
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
	 </chunk><b/></out>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lem"/>
             <clip pos="2" side="tl" part="a_det"/>
             <clip pos="2" side="tl" part="gen"/> 
             <clip pos="2" side="tl" part="nbr"/>
<!--
             <clip pos="2" side="tl" part="whole"/>  --> <!-- acc. cstr -->
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 86: bħal forom verbali, aġġettivali u nominali"> 
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
         <pattern-item n="cm"/> <!-- comma only -->
         <pattern-item n="adj"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="7"/>
         </call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_adj"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lemh"/>
             <clip pos="5" side="tl" part="a_adj"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="5" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="6" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="7" side="tl" part="lemh"/>
             <clip pos="7" side="tl" part="a_adj"/>
             <clip pos="7" side="tl" part="gen"/>
             <clip pos="7" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="7" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


   <rule comment="rule 87: L-ewwel perijodu storiku assoċjat"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="numord"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
	 <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
	 <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></let>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
 	   <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_num"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_adj"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 88: l-perijodu ta' żmien il-Feniċi"> 
       <pattern>
	 <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>  <!-- cstr state, in fact -->
	 <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu> 
	 </chunk></out>
       </action>
    </rule> 


   <rule comment="rule 89: superlative, l-akbar effett"> 
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="adjcomp"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
	 <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_adj"/>
             <clip pos="2" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>  --> <!-- some adj have different gen & nbr comp forms! -->
<!--             <clip pos="3" side="tl" part="nbr"/>  -->
	     <lit-tag v="nom"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="artic"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 90: kien + acc, kienu razza ta' nies Semitika">
<!-- hey, sth with the rule is wrong, I get كانوا عنصر ناس ساميين, but it's better then كانوا عنصر ناس ساميا. Plus standard article problems, btw -->
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
       <choose>
	 <when> <!-- adj descr. first noun (or  second, but it doesn't matter, same gen & nbr) -->
	   <test><and>
	     <equal><clip pos="2" side="tl" part="gen"/><clip pos="4" side="tl" part="gen"/></equal>
	     <equal><clip pos="2" side="tl" part="nbr"/><clip pos="4" side="tl" part="nbr"/></equal>
	   </and></test>
           <call-macro n="myf_concord2">
             <with-param pos="2"/>
             <with-param pos="5"/>
           </call-macro>
	 </when>
	 <otherwise> <!-- second  noun -->
           <call-macro n="myf_concord2">
             <with-param pos="4"/>
             <with-param pos="5"/>
           </call-macro>
	 </otherwise>
       </choose>
       <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="lemh"/>
           <clip pos="1" side="tl" part="a_verb"/>
           <clip pos="1" side="tl" part="a_trans"/>
           <clip pos="1" side="tl" part="a_voice"/>
           <clip pos="1" side="tl" part="temps"/>
           <clip pos="1" side="tl" part="mood"/>
           <clip pos="1" side="tl" part="pers"/>
           <var n="genero"/>
           <clip pos="1" side="tl" part="nbr"/>
           <clip pos="1" side="tl" part="lemq"/>
         </lu>
         <b/>
         <lu>
           <clip pos="2" side="tl" part="lemh"/>
           <clip pos="2" side="tl" part="a_nom"/>
           <clip pos="2" side="tl" part="gen"/>
           <clip pos="2" side="tl" part="a_anim"/>
           <clip pos="2" side="tl" part="nbr"/>
           <lit-tag v="acc"/>
           <lit-tag v="cstr"/>
           <clip pos="2" side="tl" part="lemq"/>
         </lu>
	 <b/>
         <mlu>
 	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
           <clip pos="4" side="tl" part="lemh"/>
           <clip pos="4" side="tl" part="a_nom"/>
           <clip pos="4" side="tl" part="gen"/>
           <clip pos="4" side="tl" part="a_anim"/>
           <clip pos="4" side="tl" part="nbr"/>
           <lit-tag v="gen"/>
           <lit-tag v="artic"/>
           <clip pos="4" side="tl" part="lemq"/>
          </lu>
	 </mlu>
	 <b/>
         <mlu>
 	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
	  <lu>
           <clip pos="5" side="tl" part="lemh"/>
           <clip pos="5" side="tl" part="a_adj"/>
           <clip pos="5" side="tl" part="gen"/> 
           <clip pos="5" side="tl" part="nbr"/> 
           <lit-tag v="acc"/>   <!-- FIX: gen, if noun 2 -->
           <lit-tag v="artic"/>
           <clip pos="5" side="tl" part="lemq"/>
          </lu>
	</mlu>
        </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 91 (story1): qed">
       <pattern>
         <pattern-item n="qed"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_verb"/>
             <clip pos="2" side="tl" part="a_trans"/>
             <clip pos="2" side="tl" part="a_voice"/>
             <clip pos="2" side="tl" part="temps"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 92:  (52 + adj, dir object in acc), taw għamla definita">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 <b/>
	 <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_adj"/>
           <clip pos="3" side="tl" part="gen"/> 
           <clip pos="3" side="tl" part="nbr"/> 
           <lit-tag v="acc"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
	   </chunk></out>
       </action>
    </rule> 

 
    <rule comment="rule 93: superlative, l-eqdem saff lingwistiku"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="adjcomp"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="3"/>
        <with-param pos="4"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_adj"/>
          <clip pos="2" side="tl" part="comp"/>
<!--             <clip pos="3" side="tl" part="gen"/>  --> <!-- some adj have different gen & nbr comp forms! -->
<!--             <clip pos="3" side="tl" part="nbr"/>  -->
	  <lit-tag v="nom"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
        <b/>
        <lu>
          <clip pos="3" side="tl" part="lemh"/>
          <clip pos="3" side="tl" part="a_nom"/>
          <clip pos="3" side="tl" part="gen"/>
          <clip pos="3" side="tl" part="a_anim"/>
          <clip pos="3" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <clip pos="3" side="tl" part="lemq"/>
        </lu>
        <b/>
        <lu>
          <clip pos="4" side="tl" part="lemh"/>
          <clip pos="4" side="tl" part="a_adj"/>
          <clip pos="4" side="tl" part="gen"/> 
          <clip pos="4" side="tl" part="nbr"/> 
          <lit-tag v="gen"/>
          <clip pos="4" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
  </rule>



    <rule comment="rule 94: minn dik Ortodossa"> 
      <pattern>
        <pattern-item n="prep"/>
        <pattern-item n="detdem"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="3"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="1" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="whole"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
    	  <lu>
            <clip pos="3" side="tl" part="lemh"/>
            <clip pos="3" side="tl" part="a_adj"/>
            <clip pos="3" side="tl" part="gen"/> 
            <clip pos="3" side="tl" part="nbr"/> 
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="3" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 95: xi kliem"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="2" side="tl" part="lemh"/>
            <clip pos="2" side="tl" part="a_nom"/>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="2" side="tl" part="a_anim"/>
            <clip pos="2" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="2" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 96: xi nomi Semitiċi"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="3"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="2" side="tl" part="lemh"/>
            <clip pos="2" side="tl" part="a_nom"/>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="2" side="tl" part="a_anim"/>
            <clip pos="2" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="2" side="tl" part="lemq"/>
          </lu>
        </mlu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
    	  <lu>
            <clip pos="3" side="tl" part="lemh"/>
            <clip pos="3" side="tl" part="a_adj"/>
            <clip pos="3" side="tl" part="gen"/> 
            <clip pos="3" side="tl" part="nbr"/> 
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="3" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>

    <rule comment="rule 97: xi forma"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nomsg"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
<!--	<b/>
        <lu>
          <lit v="واحد"/>
          <lit-tag v="num"/>
          <clip pos="2" side="tl" part="gen"/>
          <lit-tag v="sg"/>
	</lu>  -->
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 98:  (91 + pp, dir object in acc), insibu kliem primittiv marbut">
       <pattern>
         <pattern-item n="vrb"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
         <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="4"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="a_verb"/>
             <clip pos="1" side="tl" part="a_trans"/>
             <clip pos="1" side="tl" part="a_voice"/>
             <clip pos="1" side="tl" part="temps"/>
             <clip pos="1" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="1" side="tl" part="nbr"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="acc"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 <b/>
	 <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_adj"/>
           <clip pos="3" side="tl" part="gen"/> 
           <clip pos="3" side="tl" part="nbr"/> 
           <lit-tag v="acc"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
	 <b/>
         <lu>
           <clip pos="4" side="tl" part="lemh"/>
<!--             <clip pos="3" side="tl" part="a_nom_attr"/> -->
           <clip pos="4" side="tl" part="a_verb"/>
           <clip pos="4" side="tl" part="a_trans"/>
<!--           <clip pos="4" side="tl" part="a_voice"/> -->
           <clip pos="4" side="tl" part="a_particip"/>
           <clip pos="4" side="tl" part="gen"/>
           <clip pos="4" side="tl" part="nbr"/>
	   <lit-tag v="acc"/>
           <clip pos="4" side="tl" part="lemq"/>
         </lu>
       </chunk></out>
      </action>
    </rule> 


   <rule comment="rule 99: l-aktar"> <!-- prn?? -->
     <pattern>
       <pattern-item n="artic"/>
       <pattern-item n="detqnt_comp"/>
     </pattern>
     <action>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	<mlu>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="2" side="tl" part="lem"/>
            <clip pos="2" side="tl" part="a_det"/>
            <clip pos="2" side="tl" part="gen"/> 
            <clip pos="2" side="tl" part="nbr"/>
<!--
             <clip pos="2" side="tl" part="whole"/>  --> <!-- acc. cstr -->
          </lu>
	</mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 100:  xi ismijiet ta' postijiet u lokalitajiet"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="4" side="tl" part="lemh"/>
            <clip pos="4" side="tl" part="a_nom"/>
            <clip pos="4" side="tl" part="gen"/>
            <clip pos="4" side="tl" part="a_anim"/>
            <clip pos="4" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="4" side="tl" part="lemq"/>
	  </lu>
        </mlu>
	<b/>
        <lu>
          <clip pos="5" side="tl" part="whole"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_nom"/>
            <clip pos="6" side="tl" part="gen"/>
            <clip pos="6" side="tl" part="a_anim"/>
            <clip pos="4" side="tl" part="nbr"/> <!-- sic, rettili :) -->
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="6" side="tl" part="lemq"/>
	  </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 101:  Xi ismijiet ta' rħula u bliet Maltin"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
      </pattern>
      <action> <!-- in fact, pl if 4 or 6 aa, f sg otherwise -->
       <call-macro n="myf_concord2">
         <with-param pos="6"/>
         <with-param pos="7"/>
       </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="4" side="tl" part="lemh"/>
            <clip pos="4" side="tl" part="a_nom"/>
            <clip pos="4" side="tl" part="gen"/>
            <clip pos="4" side="tl" part="a_anim"/>
            <clip pos="4" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="4" side="tl" part="lemq"/>
	  </lu>
        </mlu>
	<b/>
        <lu>
          <clip pos="5" side="tl" part="whole"/>
        </lu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_nom"/>
            <clip pos="6" side="tl" part="gen"/>
            <clip pos="6" side="tl" part="a_anim"/>
            <clip pos="6" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/>
            <clip pos="6" side="tl" part="lemq"/>
	  </lu>
        </mlu>
	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
  	  <lu>
            <clip pos="7" side="tl" part="lemh"/>
            <clip pos="7" side="tl" part="a_adj"/>
            <clip pos="7" side="tl" part="gen"/> 
            <clip pos="7" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="artic"/> 
            <clip pos="7" side="tl" part="lemq"/>
          </lu>
	</mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 102:  f'bosta oqsma fosthom"> 
      <pattern>
        <pattern-item n="detqnt"/>
        <pattern-item n="non-np"/>
        <pattern-item n="prep"/>
        <pattern-item n="u_prn"/> <!-- if p3 etc? -->
      </pattern>
      <action>
       <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
       <call-macro n="myf_concord2">
         <with-param pos="2"/>
         <with-param pos="4"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="whole"/>
         </lu>
         <b/>
	 <mlu>
	   <lu>
             <lit v="ال"/>
             <lit-tag v="det"/>
             <lit-tag v="def"/>
	   </lu>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="artic"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	 </mlu>
 	 <b/>
	 <mlu>
           <lu>
             <clip pos="3" side="tl" part="whole"/>
           </lu>
           <lu>
             <lit v="ه"/>
             <clip pos="4" side="tl" part="a_prn"/>
             <clip pos="4" side="tl" part="pers"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="nbr"/>
           </lu>
 	 </mlu>
       </chunk></out>
     </action>
   </rule>


   <rule comment="rule 103: (82', st. cstr, not artic - and with rel), Bosta ismijiet ta' annimali u ħut li">
       <pattern>
         <pattern-item n="detqnt"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
         <pattern-item n="cnjcoo"/>
         <pattern-item n="non-np"/>
         <pattern-item n="rel"/>
         <pattern-item n="vrb"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="1"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="6"/>
           <with-param pos="7"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="6"/>
           <with-param pos="8"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_nom"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="a_anim"/>
             <clip pos="2" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="whole"/>
           </lu>
	   <b/>
	   <mlu>
	     <lu>
               <lit v="ال"/>
               <lit-tag v="det"/>
               <lit-tag v="def"/>
	     </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="7" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="8" side="tl" part="whole"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 104: (42' verb direct object suffix, with cnjsub: add prn) li niddeskrivuhom ">  <!-- FIX: only for إن، أن, لكن، كأن، ليت، لعل -->
       <pattern>
         <pattern-item n="cnjsub"/>
         <pattern-item n="vrb"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_prn_suff_gen"><with-param pos="3"/></call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>      
	     <clip pos="1" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <lit v="prpers"/>
             <lit-tag v="prn"/>
             <clip pos="2" side="tl" part="pers"/>
             <var n="genero"/>
             <clip pos="2" side="tl" part="nbr"/>
	   </lu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <lu>
               <lit v="ه"/>
               <clip pos="3" side="tl" part="a_prn"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
	   </mlu>
	 </chunk></out>
       </action>
    </rule> 


   <rule comment="rule 105: fost, fosthom kliem"> <!-- in fact should be based on prev. noun -->
       <pattern>
         <pattern-item n="fost_pr"/>
         <pattern-item n="u_prn"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_px_gen"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="3"/>
           <with-param pos="2"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	 <mlu>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
           <lu>
             <lit v="ه"/>
             <clip pos="2" side="tl" part="a_prn"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
           </lu>
 	 </mlu>
	 <b/>
         <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_nom"/>
           <clip pos="3" side="tl" part="gen"/>
           <clip pos="3" side="tl" part="a_anim"/>
           <clip pos="3" side="tl" part="nbr"/>
           <lit-tag v="nom"/>
           <clip pos="3" side="tl" part="poss"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
       </chunk></out>
     </action>
    </rule>


   <rule comment="rule 106: l-ismijiet tal-frott l-aktar bażiċi "> <!-- prn?? -->
     <pattern>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="ta_pr"/>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="artic"/>
       <pattern-item n="detqnt_comp"/>
       <pattern-item n="adj"/>
     </pattern>
     <action>
       <call-macro n="myf_concord2">
         <with-param pos="5"/>
         <with-param pos="8"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <lit-tag v="cstr"/>
          <clip pos="2" side="tl" part="poss"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
	<mlu>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
          <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_nom"/>
            <clip pos="5" side="tl" part="gen"/>
            <clip pos="5" side="tl" part="a_anim"/>
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <clip pos="5" side="tl" part="poss"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>
	<mlu>
          <lu>
            <clip pos="6" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="7" side="tl" part="lem"/>
            <clip pos="7" side="tl" part="a_det"/>
            <clip pos="7" side="tl" part="gen"/> 
            <clip pos="7" side="tl" part="nbr"/>
          </lu>
	</mlu>
	<b/>
  	<lu>
          <clip pos="8" side="tl" part="lemh"/>
          <clip pos="8" side="tl" part="a_adj"/>
          <clip pos="8" side="tl" part="gen"/> 
          <clip pos="8" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <clip pos="8" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


   <rule comment="rule 107: ismijiet li jibdew">
     <pattern>
       <pattern-item n="non-np"/>
       <pattern-item n="rel"/>
       <pattern-item n="vrb"/>
     </pattern>
     <action>
       <call-macro n="myf_concord2">
         <with-param pos="1"/>
         <with-param pos="2"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="1" side="tl" part="lemh"/>
           <clip pos="1" side="tl" part="a_nom"/>
           <clip pos="1" side="tl" part="gen"/>
           <clip pos="1" side="tl" part="a_anim"/>
           <clip pos="1" side="tl" part="nbr"/>
           <lit-tag v="nom"/>
           <clip pos="1" side="tl" part="lemq"/>
         </lu>
         <b/>
         <lu>
           <clip pos="3" side="tl" part="lemh"/>
           <clip pos="3" side="tl" part="a_verb"/>
           <clip pos="3" side="tl" part="a_trans"/>
           <clip pos="3" side="tl" part="a_voice"/>
           <clip pos="3" side="tl" part="temps"/>
           <clip pos="3" side="tl" part="pers"/>
           <clip pos="2" side="tl" part="gen"/>  <!-- sic! no gen tag for p3 pl and p1 :( -->
           <clip pos="2" side="tl" part="nbr"/>
           <clip pos="3" side="tl" part="lemq"/>
         </lu>
       </chunk></out>
     </action>
    </rule>


   <rule comment="rule 108: L-influwenza tal-l-Morfoloġija Semitika hija"> 
     <pattern>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="ta_pr"/>
       <pattern-item n="artic"/>
       <pattern-item n="non-np"/>
       <pattern-item n="adj"/>
       <pattern-item n="freepron"/>  <!-- p3, ok, it's a bit of cheating :) -->
       <pattern-item n="adj"/>
     </pattern>
     <action>
       <call-macro n="myf_concord2">
         <with-param pos="5"/>
         <with-param pos="6"/>
       </call-macro>
       <call-macro n="myf_concord2">
         <with-param pos="2"/>
         <with-param pos="7"/>
       </call-macro>
       <call-macro n="myf_concord2">
         <with-param pos="2"/>
         <with-param pos="8"/>
       </call-macro>
       <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
         <lu>
           <clip pos="2" side="tl" part="lemh"/>
           <clip pos="2" side="tl" part="a_nom"/>
           <clip pos="2" side="tl" part="gen"/>
           <clip pos="2" side="tl" part="a_anim"/>
           <clip pos="2" side="tl" part="nbr"/>
           <lit-tag v="nom"/>
           <lit-tag v="cstr"/>
           <clip pos="2" side="tl" part="lemq"/>
         </lu>
	<b/>
	<mlu>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
          <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_nom"/>
            <clip pos="5" side="tl" part="gen"/>
            <clip pos="5" side="tl" part="a_anim"/>
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="cstr"/>
            <clip pos="5" side="tl" part="poss"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>
	<mlu>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_adj"/>
            <clip pos="6" side="tl" part="gen"/> 
            <clip pos="6" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="cstr"/>
            <clip pos="6" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>
        <lu>
          <clip pos="7" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="8" side="tl" part="lemh"/>
          <clip pos="8" side="tl" part="a_adj"/>
          <clip pos="8" side="tl" part="gen"/> 
          <clip pos="8" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="8" side="tl" part="lemq"/>
        </lu>
       </chunk></out>
     </action>
    </rule>


    <rule comment="rule 109: xi forma jew oħra"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nomsg"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="detind"/> <!-- prn -->
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="4"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
<!--	<b/>
        <lu>
          <lit v="واحد"/>
          <lit-tag v="num"/>
          <clip pos="2" side="tl" part="gen"/>
          <lit-tag v="sg"/>
	</lu>  -->
	<b/>
        <lu>
          <clip pos="3" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="whole"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 110: In-nomi ewlenin huma l-aktar bażiċi"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
        <pattern-item n="freepron"/> <!-- p3, again -->
        <pattern-item n="artic"/>
        <pattern-item n="detqnt_comp"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="7"/>
        </call-macro>
        <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="a_anim"/>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="2" side="tl" part="poss"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
    	    <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="gen"/> 
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
  	    <lu>
              <clip pos="6" side="tl" part="lem"/>
              <clip pos="6" side="tl" part="a_det"/>
              <clip pos="6" side="tl" part="gen"/> 
              <clip pos="6" side="tl" part="nbr"/>
            </lu>
	  </mlu>
	  <b/>
  	  <lu>
            <clip pos="7" side="tl" part="lemh"/>
            <clip pos="7" side="tl" part="a_adj"/>
            <clip pos="7" side="tl" part="gen"/> 
            <clip pos="7" side="tl" part="nbr"/>
            <lit-tag v="nom"/>
            <clip pos="7" side="tl" part="lemq"/>
          </lu>
        </chunk></out>
      </action>
    </rule>


    <!-- should be both def. or both undef. ... -->
    <rule comment="rule 111: (55 + noun, prep + gen), tal-femminil singular ">
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>  <!-- artic here, so it's not st.cstr. -->
         <pattern-item n="non-np"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="lemh"/>
             <clip pos="4" side="tl" part="a_nom"/>
             <clip pos="4" side="tl" part="gen"/>
             <clip pos="4" side="tl" part="a_anim"/>
             <clip pos="4" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <clip pos="4" side="tl" part="lemq"/>
           </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 112: (2 + adv + vrb) In-nomi mnisslin x'aktarx mnisslin">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
         <pattern-item n="adj"/>
         <pattern-item n="adv"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="myf_concord2">
           <with-param pos="2"/>
           <with-param pos="5"/>
         </call-macro>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>	     
             <lu>
               <clip pos="2" side="tl" part="lem"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <lit-tag v="artic"/>
             </lu>
	   </mlu>
	   <b/>
	   <mlu>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
             <lu>
               <clip pos="3" side="tl" part="lem"/>
               <clip pos="3" side="tl" part="a_adj"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="nom"/>
               <lit-tag v="artic"/>
             </lu>
	   </mlu>
	   <b/>
           <lu>
             <clip pos="4" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="5" side="tl" part="lem"/>
             <clip pos="5" side="tl" part="a_adj"/>
             <clip pos="5" side="tl" part="gen"/>
             <clip pos="5" side="tl" part="nbr"/>
             <lit-tag v="nom"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <rule comment="rule 113: Fil-qasam ta' metalli">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="poss"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
  	     <lu>
               <clip pos="2" side="tl" part="whole"/>
	     </lu>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="a_anim"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="5" side="tl" part="poss"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 114: fil-forma tad-diminuttiv">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <clip pos="1" side="tl" part="whole"/>
	   </lu>
	   <b/>
           <lu>
             <clip pos="3" side="tl" part="lemh"/>
             <clip pos="3" side="tl" part="a_nom"/>
             <clip pos="3" side="tl" part="gen"/>
             <clip pos="3" side="tl" part="a_anim"/>
             <clip pos="3" side="tl" part="nbr"/>
             <lit-tag v="gen"/>
             <lit-tag v="cstr"/>
             <clip pos="3" side="tl" part="poss"/>
             <clip pos="3" side="tl" part="lemq"/>
           </lu>
	   <b/>
	   <mlu>
  	     <lu>
               <clip pos="5" side="tl" part="whole"/>
	     </lu>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_nom"/>
               <clip pos="6" side="tl" part="gen"/>
               <clip pos="6" side="tl" part="a_anim"/>
               <clip pos="6" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="artic"/>
               <clip pos="6" side="tl" part="poss"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
	   </mlu>
         </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 115: n-nomi Semitiċi huma kklassifikati"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
        <pattern-item n="freepron"/> <!-- p3, again -->
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="5"/>
        </call-macro>
        <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="a_anim"/>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="2" side="tl" part="poss"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
    	    <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="gen"/> 
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <b/>
  	  <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_adj"/>
            <clip pos="5" side="tl" part="gen"/> 
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="nom"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
        </chunk></out>
      </action>
    </rule>


    <rule comment="rule 116: ok, last rule, this one is really stupid (not only this one) - in-nomi mimmati huma nomi ta' post"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="non-np"/>
        <pattern-item n="adj"/>
        <pattern-item n="freepron"/> <!-- p3, again -->
        <pattern-item n="non-np"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="myf_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="a_anim"/>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="2" side="tl" part="poss"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
	  <mlu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
    	    <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="gen"/> 
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="nom"/>
              <lit-tag v="artic"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
	  </mlu>
	  <b/>
          <lu>
            <clip pos="4" side="tl" part="whole"/>
          </lu>
	  <b/>
          <lu>
            <clip pos="5" side="tl" part="lemh"/>
            <clip pos="5" side="tl" part="a_nom"/>
            <clip pos="5" side="tl" part="gen"/>
            <clip pos="5" side="tl" part="a_anim"/>
            <clip pos="5" side="tl" part="nbr"/>
            <lit-tag v="nom"/>
            <lit-tag v="cstr"/>
            <clip pos="5" side="tl" part="poss"/>
            <clip pos="5" side="tl" part="lemq"/>
          </lu>
	  <b/>
          <lu>
            <clip pos="7" side="tl" part="lemh"/>
            <clip pos="7" side="tl" part="a_nom"/>
            <clip pos="7" side="tl" part="gen"/>
            <clip pos="7" side="tl" part="a_anim"/>
            <clip pos="7" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <clip pos="7" side="tl" part="poss"/>
            <clip pos="7" side="tl" part="lemq"/>
          </lu>
        </chunk></out>
      </action>
    </rule>


    <rule comment="rule 117: xi nomi Semitiċi"> 
      <pattern>
        <pattern-item n="non-np"/>
        <pattern-item n="ta_pr"/>	
        <pattern-item n="xi"/>
        <pattern-item n="nompl"/>
        <pattern-item n="ta_pr"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_nom"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="a_anim"/>
          <clip pos="1" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
        <b/>
        <lu>
          <lit v="بعض"/>
          <lit-tag v="det"/>
          <lit-tag v="qnt"/>
          <lit-tag v="mf"/>
          <lit-tag v="sp"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="lemh"/>
          <clip pos="4" side="tl" part="a_nom"/>
          <clip pos="4" side="tl" part="gen"/>
          <clip pos="4" side="tl" part="a_anim"/>
          <clip pos="4" side="tl" part="nbr"/>
          <lit-tag v="gen"/>
          <lit-tag v="cstr"/>
          <clip pos="4" side="tl" part="lemq"/>
        </lu>
 	<b/>
        <mlu>
	  <lu>
            <lit v="ال"/>
            <lit-tag v="det"/>
            <lit-tag v="def"/>
	  </lu>
          <lu>
            <clip pos="6" side="tl" part="lemh"/>
            <clip pos="6" side="tl" part="a_nom"/>
            <clip pos="6" side="tl" part="gen"/>
            <clip pos="6" side="tl" part="a_anim"/>
            <clip pos="6" side="tl" part="nbr"/>
            <lit-tag v="gen"/>
            <lit-tag v="cstr"/>
            <clip pos="6" side="tl" part="lemq"/>
          </lu>
        </mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 118: xi forma jew oħra"> 
      <pattern>
        <pattern-item n="xi"/>
        <pattern-item n="nomsg"/>
        <pattern-item n="adj"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="detind"/> <!-- prn -->
      </pattern>
      <action>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="3"/>
      </call-macro>
      <call-macro n="myf_concord2">
        <with-param pos="2"/>
        <with-param pos="5"/>
      </call-macro>
      <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
          <clip pos="2" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="3" side="tl" part="lemh"/>
          <clip pos="3" side="tl" part="a_adj"/>
          <clip pos="3" side="tl" part="gen"/> 
          <clip pos="3" side="tl" part="nbr"/>
          <lit-tag v="nom"/>
          <clip pos="3" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="5" side="tl" part="whole"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


  <!-- numerals -->

    <rule comment="rule 119: three - ten"> 
      <pattern>
        <pattern-item n="units"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
      <choose>
	<when>
	  <test>
	    <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
	<otherwise>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	</otherwise>
      </choose>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
	  <lit-tag v="cstr"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="2" side="tl" part="nbr"/> -->
          <lit-tag v="pl"/>
          <lit-tag v="gen"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>


    <rule comment="rule 120: teens"> 
      <pattern>
        <pattern-item n="teens"/>
        <pattern-item n="non-np"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
      <choose>
	<when>
	  <test>
	    <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
	<otherwise>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	</otherwise>
      </choose>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="2" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="acc"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>



    <rule comment="rule 121: tens"> 
      <pattern>
        <pattern-item n="tens"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="2" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="acc"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>


    <rule comment="rule 122: tens with units"> 
      <pattern>
        <pattern-item n="units"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="tens"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
      <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
      <choose>
	<when>
	  <test>
	    <equal><clip pos="4" side="tl" part="gen"/><lit-tag v="m"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
	</when>
	<otherwise>
	  <let><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></let>
	</otherwise>
      </choose>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="4" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="whole"/>
        </lu>
	<b/>
        <lu>
          <clip pos="3" side="tl" part="lemh"/>
          <clip pos="3" side="tl" part="a_num"/>
          <clip pos="3" side="tl" part="gen"/>
          <clip pos="3" side="tl" part="nbr"/>
          <clip pos="3" side="tl" part="case" link-to="5"/>
          <clip pos="3" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="4" side="tl" part="lemh"/>
          <clip pos="4" side="tl" part="a_nom"/>
          <clip pos="4" side="tl" part="gen"/>
          <clip pos="4" side="tl" part="a_anim"/>
<!--          <clip pos="4" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="acc"/>
          <clip pos="4" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
    </rule>


    <rule comment="rule 123: hundreds"> 
      <pattern>
        <pattern-item n="hundreds"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
       	       <tag><lit-tag v="pl"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
        <lu>
          <clip pos="1" side="tl" part="lemh"/>
          <clip pos="1" side="tl" part="a_num"/>
          <clip pos="1" side="tl" part="gen"/>
          <clip pos="1" side="tl" part="nbr"/>
          <clip pos="1" side="tl" part="case" link-to="5"/>
          <clip pos="1" side="tl" part="lemq"/>
        </lu>
	<b/>
        <lu>
          <clip pos="2" side="tl" part="lemh"/>
          <clip pos="2" side="tl" part="a_nom"/>
          <clip pos="2" side="tl" part="gen"/>
          <clip pos="2" side="tl" part="a_anim"/>
<!--          <clip pos="4" side="tl" part="nbr"/> -->
          <lit-tag v="sg"/>
          <lit-tag v="gen"/>
          <clip pos="2" side="tl" part="lemq"/>
        </lu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 124: ordinal numbers"> 
      <pattern>
        <pattern-item n="artic"/>
        <pattern-item n="numord"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="2"/></call-macro>
        <out>
	   <chunk name="n_numord">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
	<mlu>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
          <lu>
            <clip pos="3" side="tl" part="lemh"/>
            <clip pos="3" side="tl" part="a_nom"/>
            <clip pos="3" side="tl" part="gen"/>
            <clip pos="3" side="tl" part="a_anim"/>
            <clip pos="3" side="tl" part="nbr"/>
            <clip pos="3" side="tl" part="case" link-to="5"/>
            <lit-tag v="artic"/>
            <clip pos="3" side="tl" part="lemq"/>
          </lu>
	</mlu>
	<b/>        
	<mlu>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
	  <lu>
            <clip pos="2" side="tl" part="lemh"/>
            <clip pos="2" side="tl" part="a_num"/>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="2" side="tl" part="nbr"/>
            <clip pos="2" side="tl" part="case" link-to="5"/>
            <lit-tag v="artic"/>
            <clip pos="2" side="tl" part="lemq"/>
          </lu>
	</mlu>
      </chunk></out>
    </action>
  </rule>


    <rule comment="rule 125: (2') artic np + adj gender and number agreement">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="np_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="nn"/></tag>  <!--  TODO: ant, cog should have aa -->
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
 	       <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
	     <b pos="1"/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_adj"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="nbr"/>
	         <clip pos="3" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 126: Qurgħan huwa l-ktieb l-imqaddes tal-Iżlam">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="n_art_n_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
 	       <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="6" side="tl" part="whole"/>
               </lu>
               <lu>
  	         <clip pos="7" side="tl" part="lemh"/>
                 <clip pos="7" side="tl" part="a_nom"/>
                 <clip pos="7" side="tl" part="gen"/>
                 <clip pos="7" side="tl" part="a_anim"/>
                 <clip pos="7" side="tl" part="nbr"/>
                 <lit-tag v="gen"/>
                 <lit-tag v="artic"/>
 	         <clip pos="7" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="3" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="4" side="tl" part="lemh"/>
                 <clip pos="4" side="tl" part="a_adj"/>
                 <clip pos="4" side="tl" part="gen"/>
                 <clip pos="4" side="tl" part="nbr"/>
	         <clip pos="4" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="4" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>



    <rule comment="rule 127: il-verżjoni Għarbija hi l-veru Koran">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="adj"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="np_art_adj">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="nn"/></tag>  <!-- TODO: check np type -->
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="case" link-to="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="1" side="tl" part="whole"/>
               </lu>
               <lu>
	         <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="a_adj"/>
                 <clip pos="2" side="tl" part="gen"/>
                 <clip pos="2" side="tl" part="nbr"/>
	         <clip pos="2" side="tl" part="case" link-to="5"/>
                 <lit-tag v="artic"/>
 	         <clip pos="2" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 128: u ilu jinqara b'dan l-ilsien biss għal aktar minn 1,400 sena">
       <pattern>
         <pattern-item n="detdem"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="3"/><with-param pos="1"/></call-macro>
         <out>
	   <chunk name="det_art_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <b/>
  	     <mlu>
               <lu>
                 <clip pos="2" side="tl" part="whole"/>
               </lu>
               <lu>
                 <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_nom"/>
                 <clip pos="3" side="tl" part="gen"/>
                 <clip pos="3" side="tl" part="a_anim"/>
                 <clip pos="3" side="tl" part="nbr"/>
                 <clip pos="3" side="tl" part="case" link-to="5"/>
                 <clip pos="3" side="tl" part="lemq"/>
               </lu>
	     </mlu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 129: (114') Il-Misilmin iqisu l-Koran bħala Il-Kelma t'Alla.">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="5"/></call-macro>
         <out>
	   <chunk name="pr">
	     <tags>
	       <tag><lit-tag v="SP"/></tag>
	     </tags>
  	     <lu>
               <clip pos="1" side="tl" part="whole"/>
	     </lu>
	   </chunk>
	   <b/>
	   <chunk name="n_np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="3" side="tl" part="poss"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 



    <rule comment="rule 130: Dawn il-kotba huma bħal dizzjunarji tal-Koran.">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="artic"/>
         <pattern-item n="np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="5"/></call-macro>
         <out>
	   <chunk name="pr">
	     <tags>
	       <tag><lit-tag v="SP"/></tag>
	     </tags>
  	     <lu>
               <clip pos="1" side="tl" part="whole"/>
	     </lu>
	   </chunk>
	   <b/>
	   <chunk name="n_np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="2" side="tl" part="poss"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_nom"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 131: l-Koran kien imħabbar għall-ewwel darba lil Muħammed mill-Arkanġlu Gabriel f'għar fil-muntanji ta' Hira fil-Mekka, u mbagħad matul it-23 sena ta' wara sa mewtu.">   <!-- for now, there should be 1 rule of this kind per num grup (units, teens, tens etc); also, maybe السنوات الخمس construction should be used here, not خمس سنوات -->
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="digitnum"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
      <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
        <out>
	   <chunk name="num_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="3" side="tl" part="num"/></tag>
	       <tag><clip pos="3" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_num"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_nom"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="a_anim"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="case"/> 
               <clip pos="3" side="tl" part="lemq"/>
            </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 132: Il-Koran ma kienx miktub kollu f'daqqa f'għamla ta' ktieb meta Muħammed kien għadu ħaj">
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="vrbpast"/>
         <pattern-item n="xneg"/>
         <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="4"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="2" side="tl" part="temps"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
  	     <lu>
	       <lit v="لم"/><lit-tag v="adv"/>
	     </lu>
	     <b/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_voice"/>
               <lit-tag v="apocop"/>
               <clip pos="2" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     </chunk>
	     <b/>
	     <chunk name="part">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="4" side="tl" part="gen"/></tag>
	       <tag><clip pos="4" side="tl" part="nbr"/></tag>
	       <tag><clip pos="4" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="a_trans"/>
               <clip pos="4" side="tl" part="a_particip"/>
               <clip pos="4" side="tl" part="gen"/> 
               <clip pos="4" side="tl" part="nbr"/>
  	       <lit-tag v="acc"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 



    <rule comment="rule 133: imma kien miżmum bil-kelma u kitbiet qsar biex iffakkru">
       <pattern>
         <pattern-item n="kien"/>
         <pattern-item n="particip"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="mood"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     </chunk>
	     <b/>
	     <chunk name="part">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="a_trans"/>
               <clip pos="2" side="tl" part="a_particip"/>
               <clip pos="2" side="tl" part="gen"/> 
               <clip pos="2" side="tl" part="nbr"/>
  	       <lit-tag v="acc"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 



    <rule comment="rule 134: Il-Koran ma kienx miktub kollu f'daqqa f'għamla ta' ktieb meta Muħammed kien għadu ħaj">
       <pattern>   <!-- hm, that's past of 'għad' -->
         <pattern-item n="kien"/>
         <pattern-item n="għad"/>
         <pattern-item n="adj"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="3"/></call-macro>
	  <out>
	    <chunk name="vrb">  <!-- vaux? كان وأخواتها؟ -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><var n="genero"/></tag> <!-- fix -->
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="mood"/>
               <clip pos="1" side="tl" part="pers"/>
               <var n="genero"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
	     </chunk>
	     <b/>
	     <chunk name="adj">
	     <tags>
	       <tag><lit-tag v="SA"/></tag>
	       <tag><clip pos="3" side="tl" part="gen"/></tag>
	       <tag><clip pos="3" side="tl" part="nbr"/></tag>
	       <tag><lit-tag v="acc"/></tag>
	       <tag><lit-tag v="ind"/></tag>
	     </tags>
             <lu>
	       <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_adj"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
	       <clip pos="3" side="tl" part="case" link-to="4"/>
 	       <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 135: irranġa li l-Koran jinkiteb f'għamla ta' ktieb">  
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="non-np"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="non-np"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_gen_nbr_case"><with-param pos="4"/></call-macro>
         <out>
	   <chunk name="pr">
	     <tags>
	       <tag><lit-tag v="SP"/></tag>
	     </tags>
  	     <lu>
               <clip pos="1" side="tl" part="whole"/>
	     </lu>
	   </chunk>
	   <b/>
	   <chunk name="n_n">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="case" link-to="5"/>
               <lit-tag v="cstr"/>
               <clip pos="2" side="tl" part="poss"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_nom"/>
               <clip pos="4" side="tl" part="gen"/>
               <clip pos="4" side="tl" part="a_anim"/>
               <clip pos="4" side="tl" part="nbr"/>
               <lit-tag v="gen"/>
               <lit-tag v="cstr"/>
               <clip pos="4" side="tl" part="poss"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule> 


    <rule comment="rule 136: kompla jirfina l-forma miktuba tiegħu">
       <pattern>
         <pattern-item n="artic"/>
         <pattern-item n="non-np"/>
         <pattern-item n="particip"/>
         <pattern-item n="ta_pr"/>
         <pattern-item n="u_prn"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="myf_concord2"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
	   <chunk name="n_part">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="2" side="tl" part="gen"/></tag>
	       <tag><clip pos="2" side="tl" part="a_anim"/></tag>
	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
	       <tag><clip pos="2" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
	     <lu>
	       <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_nom"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="a_anim"/>
               <clip pos="2" side="tl" part="nbr"/>
	       <clip pos="2" side="tl" part="case" link-to="5"/>
	       <lit-tag v="px3sg_m"/>
 	       <clip pos="2" side="tl" part="lemq"/>
 	     </lu>
	     <b/>
             <lu>
               <clip pos="1" side="tl" part="whole"/>
             </lu>
	     <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="a_trans"/>
               <clip pos="3" side="tl" part="a_particip"/>
               <clip pos="3" side="tl" part="gen"/>
               <clip pos="3" side="tl" part="nbr"/>
               <lit-tag v="nom"/>  <!--  <clip pos="3" side="tl" part="case" link-to="5"/> -->
<!--		 <lit-tag v="artic"/>  -->
 	       <clip pos="3" side="tl" part="lemq"/>
             </lu>
	   </chunk>
         </out>
       </action>
    </rule>


    <rule comment="rule 137: Uthman, li kien it-tielet kalif, kompla jirfina l-forma miktuba tiegħu.">  <!-- ok, so it was comma problem --> 
       <pattern>
         <pattern-item n="np"/>
         <pattern-item n="rel"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="1"/></call-macro>
  	 <let><clip pos="2" side="tl" part="gen"/><clip pos="1" side="tl" part="gen"/></let>
	 <let><clip pos="2" side="tl" part="nbr"/><clip pos="1" side="tl" part="nbr"/></let>
         <out>
	   <chunk name="np">
	     <tags>
	       <tag><lit-tag v="SN"/></tag>
	       <tag><clip pos="1" side="tl" part="gen"/></tag>
	       <tag><lit-tag v="aa"/></tag>
	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
	       <tag><clip pos="1" side="tl" part="case"/></tag>
	       <tag><lit-tag v="def"/></tag>
	     </tags>
             <lu>
	       <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_nom"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
	       <clip pos="1" side="tl" part="case" link-to="5"/>
 	       <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
  	   </chunk>
	   <b/>
 	   <chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
	   <lu>
             <lit v="الذي"/>
             <lit-tag v="rel"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
	   </lu>
	 </chunk></out>
       </action>
    </rule> 


    <rule comment="rule 138: pronouns">  <!-- should I have animacy tag here? -->
       <pattern>
         <pattern-item n="prep"/>
         <pattern-item n="pron"/>
       </pattern>
       <action>
         <call-macro n="set_gen_nbr_case"><with-param pos="2"/></call-macro>
         <call-macro n="set_px_gen"><with-param pos="2"/></call-macro>
	 <let><clip pos="2" side="tl" part="case"/><lit-tag v="gen"/></let>
         <out><chunk name="cht1x"><tags><tag><lit-tag v="St1x"/></tag></tags>
           <lu>
             <clip pos="1" side="tl" part="whole"/>
           </lu>
	   <b/>
           <lu>
             <clip pos="2" side="tl" part="lemh"/>
             <clip pos="2" side="tl" part="a_prn"/>
             <clip pos="2" side="tl" part="pers"/>
             <clip pos="2" side="tl" part="gen"/>
             <clip pos="2" side="tl" part="nbr"/>
             <clip pos="2" side="tl" part="case"/>
             <clip pos="2" side="tl" part="poss"/>
             <clip pos="2" side="tl" part="lemq"/>
           </lu>
         </chunk></out>
       </action>
    </rule>


    <!-- TODO: check whether forms without 'ma' are used -->
    <rule comment="rule 139: ليس">  
       <pattern>
         <pattern-item n="ma_neg"/>
         <pattern-item n="freepron"/>
         <pattern-item n="xneg"/>
       </pattern>
       <action>
         <call-macro n="f_concord1"><with-param pos="2"/></call-macro>
         <out>
	   <chunk name="kien">   <!-- because it's like 'كان and her sisters' -->
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="actv"/></tag>  <!-- hm -->
 	       <tag><lit-tag v="pres"/></tag>
 	       <tag><clip pos="2" side="tl" part="pers"/></tag>
 	       <tag><clip pos="2" side="tl" part="gen"/></tag>
   	       <tag><clip pos="2" side="tl" part="nbr"/></tag>
 	     </tags>
             <lu>
  	       <lit v="ليس"/>
	       <lit-tag v="vaux"/>
	       <lit-tag v="iv"/> 
	       <lit-tag v="actv"/> 
  	       <lit-tag v="pres"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen" link-to="5"/>
               <clip pos="2" side="tl" part="nbr" link-to="6"/>
             </lu>
           </chunk>
	 </out>
       </action>
    </rule>


    <rule comment="rule 15: verb">
       <pattern>
         <pattern-item n="vaux"/>
       </pattern>
       <action>
         <call-macro n="modify_verb_and_genero"><with-param pos="1"/></call-macro>
         <out>
  	   <chunk name="vaux">
 	     <tags>
 	       <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_voice"/></tag>
 	       <tag><clip pos="1" side="tl" part="temps"/></tag>
 	       <tag><clip pos="1" side="tl" part="pers"/></tag>
 	       <tag><clip pos="1" side="tl" part="gen"/></tag>
   	       <tag><clip pos="1" side="tl" part="nbr"/></tag>
 	     </tags>
 	     <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="a_trans"/>
               <clip pos="1" side="tl" part="a_voice"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen" link-to="5"/>
               <clip pos="1" side="tl" part="nbr" link-to="6"/>
               <clip pos="1" side="tl" part="lemq"/>
 	     </lu>
 	   </chunk>
         </out>
       </action>
     </rule>


  </section-rules>

</transfer>
